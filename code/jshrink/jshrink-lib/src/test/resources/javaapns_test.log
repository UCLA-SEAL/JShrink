[INFO] Scanning for projects...
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Java Apple Push Notification Service Library 1.0.0.Beta7-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.2:enforce (enforce-maven) @ apns ---
[INFO] 
[INFO] --- maven-resources-plugin:2.3:resources (default-resources) @ apns ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /media/troy/Disk2/ONR/BigQuery/sample-projects/notnoop_java-apns/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ apns ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-bundle-plugin:2.5.0:manifest (bundle-manifest) @ apns ---
[INFO] 
[INFO] --- license-maven-plugin:2.11:check (default-cli) @ apns ---
[INFO] Checking licenses...
[INFO] 
[INFO] --- maven-resources-plugin:2.3:testResources (default-testResources) @ apns ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 5 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ apns ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 45 source files to /media/troy/Disk2/ONR/BigQuery/sample-projects/notnoop_java-apns/target/test-classes
[WARNING] /media/troy/Disk2/ONR/BigQuery/sample-projects/notnoop_java-apns/src/test/java/com/notnoop/apns/integration/ApnsConnectionCacheTest.java: Some input files use or override a deprecated API.
[WARNING] /media/troy/Disk2/ONR/BigQuery/sample-projects/notnoop_java-apns/src/test/java/com/notnoop/apns/integration/ApnsConnectionCacheTest.java: Recompile with -Xlint:deprecation for details.
[INFO] 
[INFO] --- maven-surefire-plugin:2.10:test (default-test) @ apns ---
[INFO] Surefire report directory: /media/troy/Disk2/ONR/BigQuery/sample-projects/notnoop_java-apns/target/surefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.notnoop.apns.integration.FeedbackTest
javax.net.ssl.SSLException: Received close_notify during handshake
	at sun.security.ssl.Alerts.getSSLException(Alerts.java:208)
	at sun.security.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1949)
	at sun.security.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1901)
	at sun.security.ssl.SSLSocketImpl.recvAlert(SSLSocketImpl.java:2002)
	at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1125)
	at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1375)
	at sun.security.ssl.SSLSocketImpl.writeRecord(SSLSocketImpl.java:747)
	at sun.security.ssl.AppOutputStream.write(AppOutputStream.java:123)
	at java.io.ByteArrayOutputStream.writeTo(ByteArrayOutputStream.java:167)
	at com.notnoop.apns.utils.ApnsServerStub$FeedbackRunner.run(ApnsServerStub.java:275)
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 7.617 sec
Running com.notnoop.apns.integration.ApnsConnectionCacheTest
Tests run: 5, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0.427 sec
Running com.notnoop.apns.integration.ApnsConnectionTest
****** sendOneSimpleMultiKey
****** sendOneSimpleWithoutTimeout
****** sendOneSimpleClientCertFail
****** sendOneSimpleWithTimeout
****** sendOneQueued
****** sendOneQueued
****** sendOneQueued
****** sendOneQueued
****** sendOneQueued
****** sendOneQueued
****** sendOneQueued
****** sendOneQueued
****** sendOneQueued
****** sendOneQueued
****** sendOneQueued
****** sendOneQueued
****** sendOneQueued
****** sendOneQueued
****** sendOneQueued
****** sendOneQueued
****** sendOneQueued
****** sendOneQueued
****** sendOneQueued
****** sendOneQueued
****** sendOneQueued
****** sendOneQueued
****** sendOneQueued
****** sendOneQueued
****** sendOneQueued
****** sendOneQueued
****** sendOneQueued
****** sendOneQueued
****** sendOneQueued
****** sendOneQueued
****** sendOneQueued
****** sendOneQueued
****** sendOneQueued
****** sendOneQueued
****** sendOneQueued
****** sendOneQueued
****** sendOneQueued
****** sendOneQueued
****** sendOneQueued
****** sendOneQueued
****** sendOneQueued
****** sendOneQueued
****** sendOneQueued
****** sendOneQueued
****** sendOneQueued
****** sendOneQueued
****** sendOneQueued
****** sendOneQueued
****** sendOneQueued
****** sendOneQueued
****** sendOneSimple
****** sendOneSimple
****** sendOneSimple
****** sendOneSimple
****** sendOneSimple
****** sendOneSimple
****** sendOneSimple
****** sendOneSimple
****** sendOneSimple
****** sendOneSimple
****** sendOneSimple
****** sendOneSimple
****** sendOneSimple
****** sendOneSimple
****** sendOneSimple
****** sendOneSimple
****** sendOneSimple
****** sendOneSimple
****** sendOneSimple
****** sendOneSimple
****** sendOneSimple
****** sendOneSimple
****** sendOneSimple
****** sendOneSimple
****** sendOneSimple
****** sendOneSimple
****** sendOneSimple
****** sendOneSimple
****** sendOneSimple
****** sendOneSimple
****** sendOneSimple
****** sendOneSimple
****** sendOneSimple
****** sendOneSimple
****** sendOneSimple
****** sendOneSimple
****** sendOneSimple
****** sendOneSimple
****** sendOneSimple
****** sendOneSimple
****** sendOneSimple
****** sendOneSimple
****** sendOneSimple
****** sendOneSimple
****** sendOneSimple
****** sendOneSimple
****** sendOneSimple
****** sendOneSimple
****** sendOneSimple
****** sendOneSimple
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 16.936 sec
Running com.notnoop.apns.integration.ApnsConnectionResendTest
java.lang.ThreadGroup[name=FeedbackRunner2,maxpri=10]
java.lang.ThreadGroup[name=GatewayListener1,maxpri=10]
        Thread[FeedbackRunner2,5,FeedbackRunner2]
Thread[GatewayListener1,5,GatewayListener1]
    Thread[Thread-335,5,GatewayListener1]
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.099 sec
Running com.notnoop.apns.integration.ApnsSimulatorTest
2018-07-08T09:45:56.053Z [Thread-336] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - 





2018-07-08T09:45:56.073Z [Thread-336] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - ********* Test: firstTokenBad_issue145
2018-07-08T09:45:56.076Z [Thread-336] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Starting APNSServerSimulator
2018-07-08T09:45:56.076Z [GatewayListener3] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Launched GatewayListener3
2018-07-08T09:45:56.076Z [FeedbackRunner4] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Launched FeedbackRunner4
2018-07-08T09:45:56.137Z [Thread-336] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=7; Token=FFFF0008AD23C644B3A2A37EA1A58390DAB1809136B2D6A700F2453860485521; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:45:56.137Z [Thread-336] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Connected new socket 5ca85834[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=52570,localport=36539]]
2018-07-08T09:45:56.138Z [Thread-336] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Launching Monitoring Thread for socket 5ca85834[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=52570,localport=36539]]
2018-07-08T09:45:56.138Z [Thread-337] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Running parseNotifications 2ae5bbda[SSL_NULL_WITH_NULL_NULL: Socket[addr=/127.0.0.1,port=36539,localport=52570]]
2018-07-08T09:45:56.138Z [Thread-336] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Made a new connection to APNS
2018-07-08T09:45:56.138Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Started monitoring thread
2018-07-08T09:45:56.222Z [Thread-337] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:45:56.223Z [Thread-337] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=7, expiry=1, deviceToken=FFFF0008AD23C644B3A2A37EA1A58390DAB1809136B2D6A700F2453860485521, priority=10}
2018-07-08T09:45:56.223Z [Thread-337] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=7, expiry=1, deviceToken=FFFF0008AD23C644B3A2A37EA1A58390DAB1809136B2D6A700F2453860485521, priority=10}
2018-07-08T09:45:56.223Z [Thread-337] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - FAIL 8 7
2018-07-08T09:45:56.223Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Error-response packet 080800000007
2018-07-08T09:45:56.223Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.Utilities - close 5ca85834[TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256: Socket[addr=localhost/127.0.0.1,port=52570,localport=36539]]
2018-07-08T09:45:56.223Z [Thread-337] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - FAIL - closed
2018-07-08T09:45:56.223Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Closed connection cause=INVALID_TOKEN; id=7
2018-07-08T09:45:56.223Z [Thread-337] WARN com.notnoop.apns.utils.Simulator.ApnsServerSimulator - An error occured while reading notification
java.net.SocketException: Socket is closed
	at sun.security.ssl.SSLSocketImpl.checkEOF(SSLSocketImpl.java:1532)
	at sun.security.ssl.AppInputStream.read(AppInputStream.java:95)
	at sun.security.ssl.AppInputStream.read(AppInputStream.java:71)
	at java.io.DataInputStream.readByte(DataInputStream.java:265)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener.parseNotifications(ApnsServerSimulator.java:176)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener.access$700(ApnsServerSimulator.java:117)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener$1.run(ApnsServerSimulator.java:162)
2018-07-08T09:45:56.229Z [Thread-336] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:45:56.229Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Candidate for removal, message id 7
2018-07-08T09:45:56.229Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Bad message found 7
2018-07-08T09:45:56.229Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - delegate.messageSendFailed, message id 7
2018-07-08T09:45:56.229Z [Thread-336] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=8; Token=2A455C2999A2C4493A1E5AFEAB42A04BCE1790C8CA785FB0EE79DA6688D28C25; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:45:56.229Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - resending 0 notifications
2018-07-08T09:45:56.229Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Monitoring input stream closed by EOF
2018-07-08T09:45:56.229Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.Utilities - close 5ca85834[TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256: Socket[addr=localhost/127.0.0.1,port=52570,localport=36539]]
2018-07-08T09:45:56.229Z [Thread-336] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Connected new socket 2eb2c0a1[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=52570,localport=36540]]
2018-07-08T09:45:56.230Z [Thread-336] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Launching Monitoring Thread for socket 2eb2c0a1[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=52570,localport=36540]]
2018-07-08T09:45:56.230Z [Thread-336] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Made a new connection to APNS
2018-07-08T09:45:56.230Z [Thread-338] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Running parseNotifications 12bf74e5[SSL_NULL_WITH_NULL_NULL: Socket[addr=/127.0.0.1,port=36540,localport=52570]]
2018-07-08T09:45:56.230Z [MonitoringThread-2] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Started monitoring thread
2018-07-08T09:45:56.231Z [Thread-336] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:45:56.231Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:45:56.231Z [Thread-336] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - assertNumberReceived 2
2018-07-08T09:45:56.231Z [Thread-336] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=7, expiry=1, deviceToken=FFFF0008AD23C644B3A2A37EA1A58390DAB1809136B2D6A700F2453860485521, priority=10}
2018-07-08T09:45:56.270Z [Thread-338] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:45:56.271Z [Thread-338] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=8, expiry=1, deviceToken=2A455C2999A2C4493A1E5AFEAB42A04BCE1790C8CA785FB0EE79DA6688D28C25, priority=10}
2018-07-08T09:45:56.271Z [Thread-338] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=8, expiry=1, deviceToken=2A455C2999A2C4493A1E5AFEAB42A04BCE1790C8CA785FB0EE79DA6688D28C25, priority=10}
2018-07-08T09:45:56.271Z [Thread-336] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=8, expiry=1, deviceToken=2A455C2999A2C4493A1E5AFEAB42A04BCE1790C8CA785FB0EE79DA6688D28C25, priority=10}
2018-07-08T09:45:56.271Z [Thread-336] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - assertNumberReceived - successfully took 2
2018-07-08T09:45:56.271Z [Thread-336] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - assertIdle
2018-07-08T09:45:57.271Z [Thread-336] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Stopping APNSServerSimulator
2018-07-08T09:45:57.271Z [Thread-336] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interrupt, closing socket
2018-07-08T09:45:57.271Z [FeedbackRunner4] WARN com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interruption while handling feedback connection
2018-07-08T09:45:57.271Z [GatewayListener3] WARN com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interruption while handling gateway connection
2018-07-08T09:45:57.271Z [Thread-336] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Stopped - APNSServerSimulator
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at sun.security.ssl.SSLServerSocketImpl.accept(SSLServerSocketImpl.java:348)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener.run(ApnsServerSimulator.java:142)
java.net.SocketException: Socket closed2018-07-08T09:45:57.272Z [GatewayListener3] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interrupt, closing socket
2018-07-08T09:45:57.272Z [GatewayListener3] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Terminating GatewayListener3
java.lang.ThreadGroup[name=GatewayListener3,maxpri=10]
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at sun.security.ssl.SSLServerSocketImpl.accept(SSLServerSocketImpl.java:348)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$FeedbackRunner.run(ApnsServerSimulator.java:313)
2018-07-08T09:45:57.272Z [FeedbackRunner4] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Terminating FeedbackRunner4

    Thread[GatewayListener3,5,GatewayListener3]
    Thread[Thread-338,5,GatewayListener3]
2018-07-08T09:45:57.273Z [GatewayListener3] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interrupt, closing socket
java.lang.ThreadGroup[name=FeedbackRunner4,maxpri=10]
    Thread[FeedbackRunner4,5,FeedbackRunner4]
2018-07-08T09:45:57.279Z [Thread-339] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - 





2018-07-08T09:45:57.279Z [Thread-339] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - ********* Test: abortNoWait
2018-07-08T09:45:57.295Z [Thread-339] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Starting APNSServerSimulator
2018-07-08T09:45:57.296Z [GatewayListener5] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Launched GatewayListener5
2018-07-08T09:45:57.297Z [FeedbackRunner6] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Launched FeedbackRunner6
2018-07-08T09:45:57.307Z [Thread-339] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=9; Token=FFFF00083E403873B097D2DCE572CDCD7EFBADB22B324823E30A5C6C1CB4A200; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:45:57.308Z [Thread-339] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Connected new socket 22c57984[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=53764,localport=42959]]
2018-07-08T09:45:57.309Z [Thread-339] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Launching Monitoring Thread for socket 22c57984[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=53764,localport=42959]]
2018-07-08T09:45:57.309Z [Thread-339] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Made a new connection to APNS
2018-07-08T09:45:57.310Z [Thread-340] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Running parseNotifications 6d73edca[SSL_NULL_WITH_NULL_NULL: Socket[addr=/127.0.0.1,port=42959,localport=53764]]
2018-07-08T09:45:57.310Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Started monitoring thread
2018-07-08T09:45:57.398Z [Thread-340] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:45:57.399Z [Thread-339] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:45:57.399Z [Thread-340] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=9, expiry=1, deviceToken=FFFF00083E403873B097D2DCE572CDCD7EFBADB22B324823E30A5C6C1CB4A200, priority=10}
2018-07-08T09:45:57.399Z [Thread-339] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=10; Token=2A4DDE65991883E3081028DDB31E6AD487ECC9AE934FAD6BD143BC873E65DB5A; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:45:57.399Z [Thread-340] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=9, expiry=1, deviceToken=FFFF00083E403873B097D2DCE572CDCD7EFBADB22B324823E30A5C6C1CB4A200, priority=10}
2018-07-08T09:45:57.399Z [Thread-340] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - FAIL 8 9
2018-07-08T09:45:57.399Z [Thread-339] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:45:57.399Z [Thread-339] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - assertNumberReceived 2
2018-07-08T09:45:57.399Z [Thread-339] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=9, expiry=1, deviceToken=FFFF00083E403873B097D2DCE572CDCD7EFBADB22B324823E30A5C6C1CB4A200, priority=10}
2018-07-08T09:45:57.399Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Error-response packet 080800000009
2018-07-08T09:45:57.400Z [Thread-340] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - FAIL - closed
2018-07-08T09:45:57.400Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.Utilities - close 22c57984[TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256: Socket[addr=localhost/127.0.0.1,port=53764,localport=42959]]
2018-07-08T09:45:57.400Z [Thread-340] WARN com.notnoop.apns.utils.Simulator.ApnsServerSimulator - An error occured while reading notification
java.net.SocketException: Socket is closed
	at sun.security.ssl.SSLSocketImpl.checkEOF(SSLSocketImpl.java:1532)
	at sun.security.ssl.AppInputStream.read(AppInputStream.java:95)
	at sun.security.ssl.AppInputStream.read(AppInputStream.java:71)
	at java.io.DataInputStream.readByte(DataInputStream.java:265)2018-07-08T09:45:57.400Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Closed connection cause=INVALID_TOKEN; id=9

	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener.parseNotifications(ApnsServerSimulator.java:176)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener.access$700(ApnsServerSimulator.java:117)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener$1.run(ApnsServerSimulator.java:162)
2018-07-08T09:45:57.401Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Candidate for removal, message id 9
2018-07-08T09:45:57.402Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Bad message found 9
2018-07-08T09:45:57.402Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - delegate.messageSendFailed, message id 9
2018-07-08T09:45:57.402Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Queuing for resend 10
2018-07-08T09:45:57.402Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - resending 1 notifications
2018-07-08T09:45:57.403Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Monitoring input stream closed by EOF
2018-07-08T09:45:57.403Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.Utilities - close 22c57984[TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256: Socket[addr=localhost/127.0.0.1,port=53764,localport=42959]]
2018-07-08T09:45:57.403Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:45:57.403Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=10; Token=2A4DDE65991883E3081028DDB31E6AD487ECC9AE934FAD6BD143BC873E65DB5A; Payload={"aps":{}}) fromBuffer: true
2018-07-08T09:45:57.405Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Connected new socket c9546a0[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=53764,localport=42960]]
2018-07-08T09:45:57.406Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Launching Monitoring Thread for socket c9546a0[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=53764,localport=42960]]
2018-07-08T09:45:57.406Z [Thread-341] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Running parseNotifications 34ff229b[SSL_NULL_WITH_NULL_NULL: Socket[addr=/127.0.0.1,port=42960,localport=53764]]
2018-07-08T09:45:57.407Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Made a new connection to APNS
2018-07-08T09:45:57.407Z [MonitoringThread-2] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Started monitoring thread
2018-07-08T09:45:57.447Z [Thread-341] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:45:57.447Z [Thread-341] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=10, expiry=1, deviceToken=2A4DDE65991883E3081028DDB31E6AD487ECC9AE934FAD6BD143BC873E65DB5A, priority=10}
2018-07-08T09:45:57.447Z [Thread-341] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=10, expiry=1, deviceToken=2A4DDE65991883E3081028DDB31E6AD487ECC9AE934FAD6BD143BC873E65DB5A, priority=10}
2018-07-08T09:45:57.447Z [Thread-339] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=10, expiry=1, deviceToken=2A4DDE65991883E3081028DDB31E6AD487ECC9AE934FAD6BD143BC873E65DB5A, priority=10}
2018-07-08T09:45:57.447Z [Thread-339] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - assertNumberReceived - successfully took 2
2018-07-08T09:45:57.447Z [Thread-339] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - assertIdle
2018-07-08T09:45:58.447Z [Thread-339] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Stopping APNSServerSimulator
2018-07-08T09:45:58.448Z [Thread-339] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interrupt, closing socket
2018-07-08T09:45:58.448Z [Thread-339] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Stopped - APNSServerSimulator
2018-07-08T09:45:58.448Z [GatewayListener5] WARN com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interruption while handling gateway connection
2018-07-08T09:45:58.448Z [FeedbackRunner6] WARN com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interruption while handling feedback connection
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at sun.security.ssl.SSLServerSocketImpl.accept(SSLServerSocketImpl.java:348)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener.run(ApnsServerSimulator.java:142)
java.net.SocketException: Socket closed2018-07-08T09:45:58.449Z [GatewayListener5] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interrupt, closing socket

2018-07-08T09:45:58.449Z [GatewayListener5] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Terminating GatewayListener5
	at java.net.PlainSocketImpl.socketAccept(Native Method)
java.lang.ThreadGroup[name=GatewayListener5,maxpri=10]	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)

 	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
 	at sun.security.ssl.SSLServerSocketImpl.accept(SSLServerSocketImpl.java:348)
 	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$FeedbackRunner.run(ApnsServerSimulator.java:313) 
Thread[GatewayListener5,5,GatewayListener5]
2018-07-08T09:45:58.449Z [FeedbackRunner6] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Terminating FeedbackRunner6
  java.lang.ThreadGroup[name=FeedbackRunner6,maxpri=10]
      Thread[FeedbackRunner6,5,FeedbackRunner6]
Thread[Thread-341,5,GatewayListener5]
2018-07-08T09:45:58.450Z [GatewayListener5] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interrupt, closing socket
2018-07-08T09:45:58.453Z [Thread-342] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - 





2018-07-08T09:45:58.453Z [Thread-342] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - ********* Test: sendDelay
2018-07-08T09:45:58.466Z [Thread-342] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Starting APNSServerSimulator
2018-07-08T09:45:58.467Z [GatewayListener7] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Launched GatewayListener7
2018-07-08T09:45:58.468Z [FeedbackRunner8] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Launched FeedbackRunner8
2018-07-08T09:45:58.478Z [Thread-342] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=11; Token=FFFF010330CC2242D40754D3B416C95ADB41E59A189F06DD5BB7D210A89CCB01; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:45:58.479Z [Thread-342] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Connected new socket 387486db[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=56391,localport=33749]]
2018-07-08T09:45:58.479Z [Thread-342] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Launching Monitoring Thread for socket 387486db[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=56391,localport=33749]]
2018-07-08T09:45:58.480Z [Thread-343] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Running parseNotifications 2bc0682f[SSL_NULL_WITH_NULL_NULL: Socket[addr=/127.0.0.1,port=33749,localport=56391]]
2018-07-08T09:45:58.480Z [Thread-342] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Made a new connection to APNS
2018-07-08T09:45:58.480Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Started monitoring thread
2018-07-08T09:45:58.567Z [Thread-343] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:45:58.567Z [Thread-342] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:45:58.567Z [Thread-343] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=11, expiry=1, deviceToken=FFFF010330CC2242D40754D3B416C95ADB41E59A189F06DD5BB7D210A89CCB01, priority=10}
2018-07-08T09:45:58.567Z [Thread-343] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=11, expiry=1, deviceToken=FFFF010330CC2242D40754D3B416C95ADB41E59A189F06DD5BB7D210A89CCB01, priority=10}
2018-07-08T09:45:58.567Z [Thread-342] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - assertIdle
2018-07-08T09:45:59.568Z [Thread-342] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - assertDelegateSentCount 1
2018-07-08T09:45:59.576Z [Thread-342] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Stopping APNSServerSimulator
2018-07-08T09:45:59.576Z [Thread-342] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interrupt, closing socket
2018-07-08T09:45:59.577Z [Thread-342] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Stopped - APNSServerSimulator
2018-07-08T09:45:59.577Z [GatewayListener7] WARN com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interruption while handling gateway connection
2018-07-08T09:45:59.577Z [FeedbackRunner8] WARN com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interruption while handling feedback connection
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at sun.security.ssl.SSLServerSocketImpl.accept(SSLServerSocketImpl.java:348)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener.run(ApnsServerSimulator.java:142)
java.net.SocketException: Socket closed
2018-07-08T09:45:59.577Z [GatewayListener7] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interrupt, closing socket
	at java.net.PlainSocketImpl.socketAccept(Native Method)
2018-07-08T09:45:59.577Z [GatewayListener7] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Terminating GatewayListener7
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
java.lang.ThreadGroup[name=GatewayListener7,maxpri=10]	at java.net.ServerSocket.implAccept(ServerSocket.java:545)

 	at sun.security.ssl.SSLServerSocketImpl.accept(SSLServerSocketImpl.java:348) 
 	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$FeedbackRunner.run(ApnsServerSimulator.java:313) 
Thread[GatewayListener7,5,GatewayListener7]
    2018-07-08T09:45:59.578Z [FeedbackRunner8] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Terminating FeedbackRunner8
2018-07-08T09:45:59.578Z [Thread-344] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - 





Thread[Thread-343,5,GatewayListener7]
2018-07-08T09:45:59.578Z [Thread-344] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - ********* Test: sendThree
java.lang.ThreadGroup[name=FeedbackRunner8,maxpri=10]2018-07-08T09:45:59.578Z [GatewayListener7] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interrupt, closing socket

    Thread[FeedbackRunner8,5,FeedbackRunner8]
2018-07-08T09:45:59.585Z [Thread-344] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Starting APNSServerSimulator
2018-07-08T09:45:59.586Z [GatewayListener9] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Launched GatewayListener9
2018-07-08T09:45:59.586Z [FeedbackRunner10] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Launched FeedbackRunner10
2018-07-08T09:45:59.591Z [Thread-344] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=12; Token=2A3F0544453B5B217A20CEE24EF5E93D8F0A27FB8C3B808685922FB679CAA1FE; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:45:59.591Z [Thread-344] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Connected new socket 76305445[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=33503,localport=49771]]
2018-07-08T09:45:59.592Z [Thread-344] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Launching Monitoring Thread for socket 76305445[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=33503,localport=49771]]
2018-07-08T09:45:59.594Z [Thread-344] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Made a new connection to APNS
2018-07-08T09:45:59.594Z [Thread-345] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Running parseNotifications 43555842[SSL_NULL_WITH_NULL_NULL: Socket[addr=/127.0.0.1,port=49771,localport=33503]]
2018-07-08T09:45:59.594Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Started monitoring thread
2018-07-08T09:45:59.678Z [Thread-345] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:45:59.678Z [Thread-344] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:45:59.678Z [Thread-345] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=12, expiry=1, deviceToken=2A3F0544453B5B217A20CEE24EF5E93D8F0A27FB8C3B808685922FB679CAA1FE, priority=10}
2018-07-08T09:45:59.679Z [Thread-344] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=13; Token=2A810758F9EA2CB9A1195230B81BBBEB9D25FBF37040100E26D2924A18AE99B6; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:45:59.679Z [Thread-345] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=12, expiry=1, deviceToken=2A3F0544453B5B217A20CEE24EF5E93D8F0A27FB8C3B808685922FB679CAA1FE, priority=10}
2018-07-08T09:45:59.679Z [Thread-344] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:45:59.679Z [Thread-344] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=14; Token=2A7F634C4C16F01DFE3B266C6D111F3723A6B5814E260EF089B9640E637F6DCC; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:45:59.679Z [Thread-344] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:45:59.679Z [Thread-344] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - assertNumberReceived 3
2018-07-08T09:45:59.679Z [Thread-344] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=12, expiry=1, deviceToken=2A3F0544453B5B217A20CEE24EF5E93D8F0A27FB8C3B808685922FB679CAA1FE, priority=10}
2018-07-08T09:45:59.718Z [Thread-345] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:45:59.718Z [Thread-345] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=13, expiry=1, deviceToken=2A810758F9EA2CB9A1195230B81BBBEB9D25FBF37040100E26D2924A18AE99B6, priority=10}
2018-07-08T09:45:59.718Z [Thread-345] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=13, expiry=1, deviceToken=2A810758F9EA2CB9A1195230B81BBBEB9D25FBF37040100E26D2924A18AE99B6, priority=10}
2018-07-08T09:45:59.718Z [Thread-345] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:45:59.718Z [Thread-344] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=13, expiry=1, deviceToken=2A810758F9EA2CB9A1195230B81BBBEB9D25FBF37040100E26D2924A18AE99B6, priority=10}
2018-07-08T09:45:59.719Z [Thread-345] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=14, expiry=1, deviceToken=2A7F634C4C16F01DFE3B266C6D111F3723A6B5814E260EF089B9640E637F6DCC, priority=10}
2018-07-08T09:45:59.719Z [Thread-345] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=14, expiry=1, deviceToken=2A7F634C4C16F01DFE3B266C6D111F3723A6B5814E260EF089B9640E637F6DCC, priority=10}
2018-07-08T09:45:59.719Z [Thread-344] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=14, expiry=1, deviceToken=2A7F634C4C16F01DFE3B266C6D111F3723A6B5814E260EF089B9640E637F6DCC, priority=10}
2018-07-08T09:45:59.719Z [Thread-344] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - assertNumberReceived - successfully took 3
2018-07-08T09:45:59.719Z [Thread-344] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - assertIdle
2018-07-08T09:46:00.719Z [Thread-344] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - assertDelegateSentCount 3
2018-07-08T09:46:00.719Z [Thread-344] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Stopping APNSServerSimulator
2018-07-08T09:46:00.719Z [Thread-344] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interrupt, closing socket
2018-07-08T09:46:00.719Z [Thread-344] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Stopped - APNSServerSimulator
2018-07-08T09:46:00.719Z [GatewayListener9] WARN com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interruption while handling gateway connection
2018-07-08T09:46:00.719Z [FeedbackRunner10] WARN com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interruption while handling feedback connection
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at sun.security.ssl.SSLServerSocketImpl.accept(SSLServerSocketImpl.java:348)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$FeedbackRunner.run(ApnsServerSimulator.java:313)
java.net.SocketException: Socket closed2018-07-08T09:46:00.720Z [FeedbackRunner10] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Terminating FeedbackRunner10

	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)java.lang.ThreadGroup[name=FeedbackRunner10,maxpri=10]

	at java.net.ServerSocket.implAccept(ServerSocket.java:545) 
  	at sun.security.ssl.SSLServerSocketImpl.accept(SSLServerSocketImpl.java:348) 
Thread[FeedbackRunner10,5,FeedbackRunner10]	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener.run(ApnsServerSimulator.java:142)

2018-07-08T09:46:00.720Z [GatewayListener9] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interrupt, closing socket
2018-07-08T09:46:00.720Z [GatewayListener9] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Terminating GatewayListener9
java.lang.ThreadGroup[name=GatewayListener9,maxpri=10]
2018-07-08T09:46:00.720Z [Thread-346] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - 





  2018-07-08T09:46:00.720Z [Thread-346] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - ********* Test: handleRetransmissionWithSeveralOutstandingMessages
  Thread[GatewayListener9,5,GatewayListener9]
    Thread[Thread-345,5,GatewayListener9]
2018-07-08T09:46:00.720Z [GatewayListener9] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interrupt, closing socket
2018-07-08T09:46:00.724Z [Thread-346] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Starting APNSServerSimulator
2018-07-08T09:46:00.725Z [GatewayListener11] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Launched GatewayListener11
2018-07-08T09:46:00.725Z [FeedbackRunner12] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Launched FeedbackRunner12
2018-07-08T09:46:00.730Z [Thread-346] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=15; Token=FFFF0101F7C64AD8CC4C14551C6200FE0EDCAE07EB30530B819BF801E69C3680; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:00.730Z [Thread-346] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Connected new socket 57c95cf1[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=56693,localport=56317]]
2018-07-08T09:46:00.731Z [Thread-346] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Launching Monitoring Thread for socket 57c95cf1[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=56693,localport=56317]]
2018-07-08T09:46:00.731Z [Thread-346] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Made a new connection to APNS
2018-07-08T09:46:00.731Z [Thread-347] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Running parseNotifications 73cd9bd4[SSL_NULL_WITH_NULL_NULL: Socket[addr=/127.0.0.1,port=56317,localport=56693]]
2018-07-08T09:46:00.731Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Started monitoring thread
2018-07-08T09:46:00.815Z [Thread-347] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:00.815Z [Thread-346] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:00.815Z [Thread-347] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=15, expiry=1, deviceToken=FFFF0101F7C64AD8CC4C14551C6200FE0EDCAE07EB30530B819BF801E69C3680, priority=10}
2018-07-08T09:46:00.815Z [Thread-347] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=15, expiry=1, deviceToken=FFFF0101F7C64AD8CC4C14551C6200FE0EDCAE07EB30530B819BF801E69C3680, priority=10}
2018-07-08T09:46:00.815Z [Thread-346] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=16; Token=FFFF0101386694F2854ED935DD0D7049689F2D2D12B80E869B748D880292070C; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:00.815Z [Thread-346] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:00.815Z [Thread-346] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=17; Token=FFFF0101D44332554D66B31C834084685FE8B25124E7F0184511DE3B85F5FF67; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:00.815Z [Thread-346] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:00.815Z [Thread-346] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=18; Token=FFFF010154D2B8C2DA24FB82244525A0B029D5A80B5D9B1CEDF31635B71AEB74; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:00.815Z [Thread-346] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:00.815Z [Thread-346] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=19; Token=FFFF01012401FA9CF61F9CC75888D4114EB32A45D59F4DC159617A86A38ADFAB; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:00.815Z [Thread-346] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:00.815Z [Thread-346] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=20; Token=FFFF000813753AA6FE008159BCC4B53EE0A42C27355D65D920D7EE2396785E5F; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:00.815Z [Thread-346] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:00.815Z [Thread-346] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=21; Token=FFFF0101D750A5A164E302E5733FE18C40B095A9013B766E2CD275F9A6463D00; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:00.816Z [Thread-346] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:00.816Z [Thread-346] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=22; Token=FFFF0101878D40662D037683A01411C9FDABE6F0B2375B663EE544C6291A8BAF; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:00.816Z [Thread-346] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:00.816Z [Thread-346] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=23; Token=FFFF01011FE3E35D73BB2DF5ED93FB0EDAF5FA4EE79AE3076A1F7BB03980E49A; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:00.816Z [Thread-346] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:00.816Z [Thread-346] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=24; Token=FFFF01010041F457E4D491DF07ADECBA4DA5D6FEE275FDC096C2AC4A3722E71C; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:00.816Z [Thread-346] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:00.816Z [Thread-346] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=25; Token=FFFF01016DD6E50D41241FE21F6C7007018E183809B47F2A004ABFF1458AB75F; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:00.816Z [Thread-346] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:00.816Z [Thread-346] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=26; Token=FFFF01010EABC6B5E0786D166A8620C25412BA5C66BBF5E7B5C0CFFECBF7CA4B; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:00.816Z [Thread-346] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:00.816Z [Thread-346] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=27; Token=FFFF010171C753852BDB9438A2F6E612D9C506EF289D0EAC1B681D46F24367E1; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:00.816Z [Thread-346] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:00.816Z [Thread-346] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - assertNumberReceived 13
2018-07-08T09:46:00.816Z [Thread-346] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=15, expiry=1, deviceToken=FFFF0101F7C64AD8CC4C14551C6200FE0EDCAE07EB30530B819BF801E69C3680, priority=10}
2018-07-08T09:46:00.915Z [Thread-347] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:00.915Z [Thread-347] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=16, expiry=1, deviceToken=FFFF0101386694F2854ED935DD0D7049689F2D2D12B80E869B748D880292070C, priority=10}
2018-07-08T09:46:00.915Z [Thread-347] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=16, expiry=1, deviceToken=FFFF0101386694F2854ED935DD0D7049689F2D2D12B80E869B748D880292070C, priority=10}
2018-07-08T09:46:00.915Z [Thread-346] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=16, expiry=1, deviceToken=FFFF0101386694F2854ED935DD0D7049689F2D2D12B80E869B748D880292070C, priority=10}
2018-07-08T09:46:01.015Z [Thread-347] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:01.015Z [Thread-347] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=17, expiry=1, deviceToken=FFFF0101D44332554D66B31C834084685FE8B25124E7F0184511DE3B85F5FF67, priority=10}
2018-07-08T09:46:01.015Z [Thread-347] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=17, expiry=1, deviceToken=FFFF0101D44332554D66B31C834084685FE8B25124E7F0184511DE3B85F5FF67, priority=10}
2018-07-08T09:46:01.016Z [Thread-346] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=17, expiry=1, deviceToken=FFFF0101D44332554D66B31C834084685FE8B25124E7F0184511DE3B85F5FF67, priority=10}
2018-07-08T09:46:01.116Z [Thread-347] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:01.116Z [Thread-347] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=18, expiry=1, deviceToken=FFFF010154D2B8C2DA24FB82244525A0B029D5A80B5D9B1CEDF31635B71AEB74, priority=10}
2018-07-08T09:46:01.116Z [Thread-347] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=18, expiry=1, deviceToken=FFFF010154D2B8C2DA24FB82244525A0B029D5A80B5D9B1CEDF31635B71AEB74, priority=10}
2018-07-08T09:46:01.116Z [Thread-346] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=18, expiry=1, deviceToken=FFFF010154D2B8C2DA24FB82244525A0B029D5A80B5D9B1CEDF31635B71AEB74, priority=10}
2018-07-08T09:46:01.216Z [Thread-347] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:01.216Z [Thread-347] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=19, expiry=1, deviceToken=FFFF01012401FA9CF61F9CC75888D4114EB32A45D59F4DC159617A86A38ADFAB, priority=10}
2018-07-08T09:46:01.216Z [Thread-347] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=19, expiry=1, deviceToken=FFFF01012401FA9CF61F9CC75888D4114EB32A45D59F4DC159617A86A38ADFAB, priority=10}
2018-07-08T09:46:01.216Z [Thread-346] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=19, expiry=1, deviceToken=FFFF01012401FA9CF61F9CC75888D4114EB32A45D59F4DC159617A86A38ADFAB, priority=10}
2018-07-08T09:46:01.316Z [Thread-347] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:01.317Z [Thread-347] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=20, expiry=1, deviceToken=FFFF000813753AA6FE008159BCC4B53EE0A42C27355D65D920D7EE2396785E5F, priority=10}
2018-07-08T09:46:01.317Z [Thread-347] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=20, expiry=1, deviceToken=FFFF000813753AA6FE008159BCC4B53EE0A42C27355D65D920D7EE2396785E5F, priority=10}
2018-07-08T09:46:01.317Z [Thread-347] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - FAIL 8 20
2018-07-08T09:46:01.317Z [Thread-346] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=20, expiry=1, deviceToken=FFFF000813753AA6FE008159BCC4B53EE0A42C27355D65D920D7EE2396785E5F, priority=10}
2018-07-08T09:46:01.317Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Error-response packet 080800000014
2018-07-08T09:46:01.317Z [Thread-347] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - FAIL - closed
2018-07-08T09:46:01.317Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.Utilities - close 57c95cf1[TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256: Socket[addr=localhost/127.0.0.1,port=56693,localport=56317]]
2018-07-08T09:46:01.317Z [Thread-347] WARN com.notnoop.apns.utils.Simulator.ApnsServerSimulator - An error occured while reading notification
java.net.SocketException: Socket is closed
	at sun.security.ssl.SSLSocketImpl.checkEOF(SSLSocketImpl.java:1532)
	at sun.security.ssl.AppInputStream.read(AppInputStream.java:95)2018-07-08T09:46:01.317Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Closed connection cause=INVALID_TOKEN; id=20

	at sun.security.ssl.AppInputStream.read(AppInputStream.java:71)
	at java.io.DataInputStream.readByte(DataInputStream.java:265)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener.parseNotifications(ApnsServerSimulator.java:176)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener.access$700(ApnsServerSimulator.java:117)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener$1.run(ApnsServerSimulator.java:162)
2018-07-08T09:46:01.318Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Candidate for removal, message id 15
2018-07-08T09:46:01.318Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Candidate for removal, message id 16
2018-07-08T09:46:01.318Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Candidate for removal, message id 17
2018-07-08T09:46:01.318Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Candidate for removal, message id 18
2018-07-08T09:46:01.318Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Candidate for removal, message id 19
2018-07-08T09:46:01.318Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Candidate for removal, message id 20
2018-07-08T09:46:01.318Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Bad message found 20
2018-07-08T09:46:01.318Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - delegate.messageSendFailed, message id 20
2018-07-08T09:46:01.318Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Queuing for resend 21
2018-07-08T09:46:01.318Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Queuing for resend 22
2018-07-08T09:46:01.318Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Queuing for resend 23
2018-07-08T09:46:01.318Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Queuing for resend 24
2018-07-08T09:46:01.318Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Queuing for resend 25
2018-07-08T09:46:01.318Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Queuing for resend 26
2018-07-08T09:46:01.318Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Queuing for resend 27
2018-07-08T09:46:01.318Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - resending 7 notifications
2018-07-08T09:46:01.318Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Monitoring input stream closed by EOF
2018-07-08T09:46:01.318Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.Utilities - close 57c95cf1[TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256: Socket[addr=localhost/127.0.0.1,port=56693,localport=56317]]
2018-07-08T09:46:01.318Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:01.318Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=21; Token=FFFF0101D750A5A164E302E5733FE18C40B095A9013B766E2CD275F9A6463D00; Payload={"aps":{}}) fromBuffer: true
2018-07-08T09:46:01.319Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Connected new socket 1b1c541a[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=56693,localport=56318]]
2018-07-08T09:46:01.319Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Launching Monitoring Thread for socket 1b1c541a[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=56693,localport=56318]]
2018-07-08T09:46:01.319Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Made a new connection to APNS
2018-07-08T09:46:01.319Z [MonitoringThread-2] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Started monitoring thread
2018-07-08T09:46:01.319Z [Thread-348] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Running parseNotifications 15c19d46[SSL_NULL_WITH_NULL_NULL: Socket[addr=/127.0.0.1,port=56318,localport=56693]]
2018-07-08T09:46:01.320Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=22; Token=FFFF0101878D40662D037683A01411C9FDABE6F0B2375B663EE544C6291A8BAF; Payload={"aps":{}}) fromBuffer: true
2018-07-08T09:46:01.322Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=23; Token=FFFF01011FE3E35D73BB2DF5ED93FB0EDAF5FA4EE79AE3076A1F7BB03980E49A; Payload={"aps":{}}) fromBuffer: true
2018-07-08T09:46:01.323Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=24; Token=FFFF01010041F457E4D491DF07ADECBA4DA5D6FEE275FDC096C2AC4A3722E71C; Payload={"aps":{}}) fromBuffer: true
2018-07-08T09:46:01.323Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=25; Token=FFFF01016DD6E50D41241FE21F6C7007018E183809B47F2A004ABFF1458AB75F; Payload={"aps":{}}) fromBuffer: true
2018-07-08T09:46:01.323Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=26; Token=FFFF01010EABC6B5E0786D166A8620C25412BA5C66BBF5E7B5C0CFFECBF7CA4B; Payload={"aps":{}}) fromBuffer: true
2018-07-08T09:46:01.323Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=27; Token=FFFF010171C753852BDB9438A2F6E612D9C506EF289D0EAC1B681D46F24367E1; Payload={"aps":{}}) fromBuffer: true
2018-07-08T09:46:01.358Z [Thread-348] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:01.358Z [Thread-348] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=21, expiry=1, deviceToken=FFFF0101D750A5A164E302E5733FE18C40B095A9013B766E2CD275F9A6463D00, priority=10}
2018-07-08T09:46:01.359Z [Thread-348] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=21, expiry=1, deviceToken=FFFF0101D750A5A164E302E5733FE18C40B095A9013B766E2CD275F9A6463D00, priority=10}
2018-07-08T09:46:01.359Z [Thread-346] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=21, expiry=1, deviceToken=FFFF0101D750A5A164E302E5733FE18C40B095A9013B766E2CD275F9A6463D00, priority=10}
2018-07-08T09:46:01.459Z [Thread-348] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:01.459Z [Thread-348] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=22, expiry=1, deviceToken=FFFF0101878D40662D037683A01411C9FDABE6F0B2375B663EE544C6291A8BAF, priority=10}
2018-07-08T09:46:01.459Z [Thread-348] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=22, expiry=1, deviceToken=FFFF0101878D40662D037683A01411C9FDABE6F0B2375B663EE544C6291A8BAF, priority=10}
2018-07-08T09:46:01.459Z [Thread-346] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=22, expiry=1, deviceToken=FFFF0101878D40662D037683A01411C9FDABE6F0B2375B663EE544C6291A8BAF, priority=10}
2018-07-08T09:46:01.559Z [Thread-348] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:01.559Z [Thread-348] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=23, expiry=1, deviceToken=FFFF01011FE3E35D73BB2DF5ED93FB0EDAF5FA4EE79AE3076A1F7BB03980E49A, priority=10}
2018-07-08T09:46:01.559Z [Thread-348] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=23, expiry=1, deviceToken=FFFF01011FE3E35D73BB2DF5ED93FB0EDAF5FA4EE79AE3076A1F7BB03980E49A, priority=10}
2018-07-08T09:46:01.559Z [Thread-346] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=23, expiry=1, deviceToken=FFFF01011FE3E35D73BB2DF5ED93FB0EDAF5FA4EE79AE3076A1F7BB03980E49A, priority=10}
2018-07-08T09:46:01.659Z [Thread-348] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:01.660Z [Thread-348] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=24, expiry=1, deviceToken=FFFF01010041F457E4D491DF07ADECBA4DA5D6FEE275FDC096C2AC4A3722E71C, priority=10}
2018-07-08T09:46:01.660Z [Thread-348] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=24, expiry=1, deviceToken=FFFF01010041F457E4D491DF07ADECBA4DA5D6FEE275FDC096C2AC4A3722E71C, priority=10}
2018-07-08T09:46:01.660Z [Thread-346] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=24, expiry=1, deviceToken=FFFF01010041F457E4D491DF07ADECBA4DA5D6FEE275FDC096C2AC4A3722E71C, priority=10}
2018-07-08T09:46:01.760Z [Thread-348] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:01.760Z [Thread-348] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=25, expiry=1, deviceToken=FFFF01016DD6E50D41241FE21F6C7007018E183809B47F2A004ABFF1458AB75F, priority=10}
2018-07-08T09:46:01.760Z [Thread-348] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=25, expiry=1, deviceToken=FFFF01016DD6E50D41241FE21F6C7007018E183809B47F2A004ABFF1458AB75F, priority=10}
2018-07-08T09:46:01.760Z [Thread-346] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=25, expiry=1, deviceToken=FFFF01016DD6E50D41241FE21F6C7007018E183809B47F2A004ABFF1458AB75F, priority=10}
2018-07-08T09:46:01.860Z [Thread-348] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:01.860Z [Thread-348] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=26, expiry=1, deviceToken=FFFF01010EABC6B5E0786D166A8620C25412BA5C66BBF5E7B5C0CFFECBF7CA4B, priority=10}
2018-07-08T09:46:01.860Z [Thread-348] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=26, expiry=1, deviceToken=FFFF01010EABC6B5E0786D166A8620C25412BA5C66BBF5E7B5C0CFFECBF7CA4B, priority=10}
2018-07-08T09:46:01.860Z [Thread-346] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=26, expiry=1, deviceToken=FFFF01010EABC6B5E0786D166A8620C25412BA5C66BBF5E7B5C0CFFECBF7CA4B, priority=10}
2018-07-08T09:46:01.961Z [Thread-348] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:01.961Z [Thread-348] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=27, expiry=1, deviceToken=FFFF010171C753852BDB9438A2F6E612D9C506EF289D0EAC1B681D46F24367E1, priority=10}
2018-07-08T09:46:01.961Z [Thread-348] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=27, expiry=1, deviceToken=FFFF010171C753852BDB9438A2F6E612D9C506EF289D0EAC1B681D46F24367E1, priority=10}
2018-07-08T09:46:01.961Z [Thread-346] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=27, expiry=1, deviceToken=FFFF010171C753852BDB9438A2F6E612D9C506EF289D0EAC1B681D46F24367E1, priority=10}
2018-07-08T09:46:01.961Z [Thread-346] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - assertNumberReceived - successfully took 13
2018-07-08T09:46:01.961Z [Thread-346] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - assertIdle
2018-07-08T09:46:02.961Z [Thread-346] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - assertDelegateSentCount 20
2018-07-08T09:46:02.962Z [Thread-346] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Stopping APNSServerSimulator
2018-07-08T09:46:02.962Z [Thread-346] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interrupt, closing socket
2018-07-08T09:46:02.962Z [Thread-346] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Stopped - APNSServerSimulator
2018-07-08T09:46:02.962Z [FeedbackRunner12] WARN com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interruption while handling feedback connection
2018-07-08T09:46:02.962Z [GatewayListener11] WARN com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interruption while handling gateway connection
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at sun.security.ssl.SSLServerSocketImpl.accept(SSLServerSocketImpl.java:348)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$FeedbackRunner.run(ApnsServerSimulator.java:313)
java.net.SocketException: Socket closed2018-07-08T09:46:02.962Z [FeedbackRunner12] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Terminating FeedbackRunner12

	at java.net.PlainSocketImpl.socketAccept(Native Method)
java.lang.ThreadGroup[name=FeedbackRunner12,maxpri=10]	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)

 	at java.net.ServerSocket.implAccept(ServerSocket.java:545) 
 	at sun.security.ssl.SSLServerSocketImpl.accept(SSLServerSocketImpl.java:348) 
Thread[FeedbackRunner12,5,FeedbackRunner12]	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener.run(ApnsServerSimulator.java:142)

2018-07-08T09:46:02.963Z [GatewayListener11] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interrupt, closing socket
2018-07-08T09:46:02.963Z [GatewayListener11] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Terminating GatewayListener11
2018-07-08T09:46:02.963Z [Thread-349] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - 





java.lang.ThreadGroup[name=GatewayListener11,maxpri=10]
2018-07-08T09:46:02.963Z [Thread-349] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - ********* Test: doNotSpamLogWhenConnectionClosesBetweenFeedbackPackets
    Thread[GatewayListener11,5,GatewayListener11]
    Thread[Thread-348,5,GatewayListener11]
2018-07-08T09:46:02.963Z [GatewayListener11] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interrupt, closing socket
2018-07-08T09:46:02.966Z [Thread-349] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Starting APNSServerSimulator
2018-07-08T09:46:02.966Z [GatewayListener13] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Launched GatewayListener13
2018-07-08T09:46:02.966Z [FeedbackRunner14] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Launched FeedbackRunner14
2018-07-08T09:46:02.969Z [Thread-349] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=28; Token=FFFF01019B7BD382E558F01B5ECF9615456A46E3F36E21BA07630DFCA834F51E; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:02.969Z [Thread-349] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Connected new socket aecb302[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=44565,localport=41908]]
2018-07-08T09:46:02.969Z [Thread-349] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Launching Monitoring Thread for socket aecb302[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=44565,localport=41908]]
2018-07-08T09:46:02.969Z [Thread-349] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Made a new connection to APNS
2018-07-08T09:46:02.969Z [Thread-350] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Running parseNotifications 39d650c4[SSL_NULL_WITH_NULL_NULL: Socket[addr=/127.0.0.1,port=41908,localport=44565]]
2018-07-08T09:46:02.969Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Started monitoring thread
2018-07-08T09:46:03.050Z [Thread-350] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:03.051Z [Thread-350] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=28, expiry=1, deviceToken=FFFF01019B7BD382E558F01B5ECF9615456A46E3F36E21BA07630DFCA834F51E, priority=10}
2018-07-08T09:46:03.051Z [Thread-349] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:03.051Z [Thread-350] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=28, expiry=1, deviceToken=FFFF01019B7BD382E558F01B5ECF9615456A46E3F36E21BA07630DFCA834F51E, priority=10}
2018-07-08T09:46:03.051Z [Thread-349] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=29; Token=FFFF000861A1AE162101E11AB0E56BC00A05C5C49B9D868EB9602544AD6D938B; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:03.051Z [Thread-349] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:03.051Z [Thread-349] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=30; Token=FFFF0101443438576AB696D43E402F95AA5CA1A57186572B1C5074518E316DCD; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:03.051Z [Thread-349] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:03.051Z [Thread-349] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - assertNumberReceived 3
2018-07-08T09:46:03.051Z [Thread-349] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=28, expiry=1, deviceToken=FFFF01019B7BD382E558F01B5ECF9615456A46E3F36E21BA07630DFCA834F51E, priority=10}
2018-07-08T09:46:03.151Z [Thread-350] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:03.151Z [Thread-350] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=29, expiry=1, deviceToken=FFFF000861A1AE162101E11AB0E56BC00A05C5C49B9D868EB9602544AD6D938B, priority=10}
2018-07-08T09:46:03.151Z [Thread-350] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=29, expiry=1, deviceToken=FFFF000861A1AE162101E11AB0E56BC00A05C5C49B9D868EB9602544AD6D938B, priority=10}
2018-07-08T09:46:03.151Z [Thread-350] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - FAIL 8 29
2018-07-08T09:46:03.151Z [Thread-349] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=29, expiry=1, deviceToken=FFFF000861A1AE162101E11AB0E56BC00A05C5C49B9D868EB9602544AD6D938B, priority=10}
2018-07-08T09:46:03.151Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Error-response packet 08080000001D
2018-07-08T09:46:03.151Z [Thread-350] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - FAIL - closed
2018-07-08T09:46:03.151Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.Utilities - close aecb302[TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256: Socket[addr=localhost/127.0.0.1,port=44565,localport=41908]]
2018-07-08T09:46:03.151Z [Thread-350] WARN com.notnoop.apns.utils.Simulator.ApnsServerSimulator - An error occured while reading notification
java.net.SocketException: Socket is closed
	at sun.security.ssl.SSLSocketImpl.checkEOF(SSLSocketImpl.java:1532)2018-07-08T09:46:03.151Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Closed connection cause=INVALID_TOKEN; id=29

	at sun.security.ssl.AppInputStream.read(AppInputStream.java:95)
	at sun.security.ssl.AppInputStream.read(AppInputStream.java:71)
	at java.io.DataInputStream.readByte(DataInputStream.java:265)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener.parseNotifications(ApnsServerSimulator.java:176)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener.access$700(ApnsServerSimulator.java:117)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener$1.run(ApnsServerSimulator.java:162)
2018-07-08T09:46:03.152Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Candidate for removal, message id 28
2018-07-08T09:46:03.152Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Candidate for removal, message id 29
2018-07-08T09:46:03.152Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Bad message found 29
2018-07-08T09:46:03.152Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - delegate.messageSendFailed, message id 29
2018-07-08T09:46:03.152Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Queuing for resend 30
2018-07-08T09:46:03.152Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - resending 1 notifications
2018-07-08T09:46:03.152Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Monitoring input stream closed by EOF
2018-07-08T09:46:03.152Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.Utilities - close aecb302[TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256: Socket[addr=localhost/127.0.0.1,port=44565,localport=41908]]
2018-07-08T09:46:03.152Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:03.152Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=30; Token=FFFF0101443438576AB696D43E402F95AA5CA1A57186572B1C5074518E316DCD; Payload={"aps":{}}) fromBuffer: true
2018-07-08T09:46:03.153Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Connected new socket 69ba5e1b[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=44565,localport=41909]]
2018-07-08T09:46:03.153Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Launching Monitoring Thread for socket 69ba5e1b[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=44565,localport=41909]]
2018-07-08T09:46:03.153Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Made a new connection to APNS
2018-07-08T09:46:03.153Z [Thread-351] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Running parseNotifications 5f7edda1[SSL_NULL_WITH_NULL_NULL: Socket[addr=/127.0.0.1,port=41909,localport=44565]]
2018-07-08T09:46:03.153Z [MonitoringThread-2] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Started monitoring thread
2018-07-08T09:46:03.190Z [Thread-351] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:03.191Z [Thread-351] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=30, expiry=1, deviceToken=FFFF0101443438576AB696D43E402F95AA5CA1A57186572B1C5074518E316DCD, priority=10}
2018-07-08T09:46:03.191Z [Thread-351] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=30, expiry=1, deviceToken=FFFF0101443438576AB696D43E402F95AA5CA1A57186572B1C5074518E316DCD, priority=10}
2018-07-08T09:46:03.191Z [Thread-349] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=30, expiry=1, deviceToken=FFFF0101443438576AB696D43E402F95AA5CA1A57186572B1C5074518E316DCD, priority=10}
2018-07-08T09:46:03.191Z [Thread-349] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - assertNumberReceived - successfully took 3
2018-07-08T09:46:03.191Z [Thread-349] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - assertIdle
2018-07-08T09:46:04.193Z [Thread-349] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Stopping APNSServerSimulator
2018-07-08T09:46:04.193Z [Thread-349] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interrupt, closing socket
2018-07-08T09:46:04.193Z [Thread-349] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Stopped - APNSServerSimulator
2018-07-08T09:46:04.193Z [GatewayListener13] WARN com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interruption while handling gateway connection
2018-07-08T09:46:04.193Z [FeedbackRunner14] WARN com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interruption while handling feedback connection
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at sun.security.ssl.SSLServerSocketImpl.accept(SSLServerSocketImpl.java:348)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$FeedbackRunner.run(ApnsServerSimulator.java:313)
java.net.SocketException: Socket closed2018-07-08T09:46:04.194Z [FeedbackRunner14] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Terminating FeedbackRunner14

	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)java.lang.ThreadGroup[name=FeedbackRunner14,maxpri=10]

	at java.net.ServerSocket.implAccept(ServerSocket.java:545) 
  	at sun.security.ssl.SSLServerSocketImpl.accept(SSLServerSocketImpl.java:348) 
Thread[FeedbackRunner14,5,FeedbackRunner14]
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener.run(ApnsServerSimulator.java:142)
2018-07-08T09:46:04.195Z [GatewayListener13] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interrupt, closing socket
2018-07-08T09:46:04.195Z [GatewayListener13] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Terminating GatewayListener13
java.lang.ThreadGroup[name=GatewayListener13,maxpri=10]
    Thread[GatewayListener13,5,GatewayListener13]
    Thread[Thread-351,5,GatewayListener13]
2018-07-08T09:46:04.196Z [GatewayListener13] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interrupt, closing socket
2018-07-08T09:46:04.196Z [Thread-352] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - 





2018-07-08T09:46:04.197Z [Thread-352] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - ********* Test: testConnectionClose
2018-07-08T09:46:04.210Z [Thread-352] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Starting APNSServerSimulator
2018-07-08T09:46:04.211Z [GatewayListener15] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Launched GatewayListener15
2018-07-08T09:46:04.211Z [FeedbackRunner16] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Launched FeedbackRunner16
2018-07-08T09:46:04.221Z [Thread-352] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=31; Token=FFFF0008B906257C423C6A6CABCACC00D5D038AB2E924D769E8549F6BAC36576; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:04.222Z [Thread-352] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Connected new socket 655ca118[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=38262,localport=48714]]
2018-07-08T09:46:04.222Z [Thread-352] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Launching Monitoring Thread for socket 655ca118[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=38262,localport=48714]]
2018-07-08T09:46:04.223Z [Thread-352] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Made a new connection to APNS
2018-07-08T09:46:04.223Z [Thread-353] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Running parseNotifications 5ea82ba9[SSL_NULL_WITH_NULL_NULL: Socket[addr=/127.0.0.1,port=48714,localport=38262]]
2018-07-08T09:46:04.223Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Started monitoring thread
2018-07-08T09:46:04.310Z [Thread-353] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:04.311Z [Thread-352] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:04.311Z [Thread-353] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=31, expiry=1, deviceToken=FFFF0008B906257C423C6A6CABCACC00D5D038AB2E924D769E8549F6BAC36576, priority=10}
2018-07-08T09:46:04.311Z [Thread-352] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - assertNumberReceived 1
2018-07-08T09:46:04.311Z [Thread-353] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=31, expiry=1, deviceToken=FFFF0008B906257C423C6A6CABCACC00D5D038AB2E924D769E8549F6BAC36576, priority=10}
2018-07-08T09:46:04.311Z [Thread-353] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - FAIL 8 31
2018-07-08T09:46:04.311Z [Thread-352] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=31, expiry=1, deviceToken=FFFF0008B906257C423C6A6CABCACC00D5D038AB2E924D769E8549F6BAC36576, priority=10}
2018-07-08T09:46:04.311Z [Thread-352] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - assertNumberReceived - successfully took 1
2018-07-08T09:46:04.311Z [Thread-352] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - assertIdle
2018-07-08T09:46:04.311Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Error-response packet 08080000001F
2018-07-08T09:46:04.311Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.Utilities - close 655ca118[TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256: Socket[addr=localhost/127.0.0.1,port=38262,localport=48714]]
2018-07-08T09:46:04.311Z [Thread-353] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - FAIL - closed
2018-07-08T09:46:04.311Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Closed connection cause=INVALID_TOKEN; id=31
2018-07-08T09:46:04.311Z [Thread-353] WARN com.notnoop.apns.utils.Simulator.ApnsServerSimulator - An error occured while reading notification
java.net.SocketException: Socket is closed
	at sun.security.ssl.SSLSocketImpl.checkEOF(SSLSocketImpl.java:1532)
	at sun.security.ssl.AppInputStream.read(AppInputStream.java:95)
	at sun.security.ssl.AppInputStream.read(AppInputStream.java:71)
	at java.io.DataInputStream.readByte(DataInputStream.java:265)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener.parseNotifications(ApnsServerSimulator.java:176)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener.access$700(ApnsServerSimulator.java:117)2018-07-08T09:46:04.312Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Candidate for removal, message id 31
2018-07-08T09:46:04.312Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Bad message found 31
2018-07-08T09:46:04.312Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - delegate.messageSendFailed, message id 31

	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener$1.run(ApnsServerSimulator.java:162)
2018-07-08T09:46:04.312Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - resending 0 notifications
2018-07-08T09:46:04.312Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Monitoring input stream closed by EOF
2018-07-08T09:46:04.312Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.Utilities - close 655ca118[TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256: Socket[addr=localhost/127.0.0.1,port=38262,localport=48714]]
2018-07-08T09:46:04.312Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:05.311Z [Thread-352] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - assertDelegateSentCount 1
2018-07-08T09:46:05.311Z [Thread-352] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Stopping APNSServerSimulator
2018-07-08T09:46:05.312Z [Thread-352] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interrupt, closing socket
2018-07-08T09:46:05.312Z [Thread-352] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Stopped - APNSServerSimulator
2018-07-08T09:46:05.312Z [GatewayListener15] WARN com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interruption while handling gateway connection
2018-07-08T09:46:05.312Z [FeedbackRunner16] WARN com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interruption while handling feedback connection
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at sun.security.ssl.SSLServerSocketImpl.accept(SSLServerSocketImpl.java:348)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$FeedbackRunner.run(ApnsServerSimulator.java:313)
2018-07-08T09:46:05.312Z [FeedbackRunner16] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Terminating FeedbackRunner16
java.net.SocketException: Socket closedjava.lang.ThreadGroup[name=FeedbackRunner16,maxpri=10]
 
   	at java.net.PlainSocketImpl.socketAccept(Native Method)Thread[FeedbackRunner16,5,FeedbackRunner16]

	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at sun.security.ssl.SSLServerSocketImpl.accept(SSLServerSocketImpl.java:348)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener.run(ApnsServerSimulator.java:142)
2018-07-08T09:46:05.312Z [GatewayListener15] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interrupt, closing socket
2018-07-08T09:46:05.312Z [GatewayListener15] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Terminating GatewayListener15
java.lang.ThreadGroup[name=GatewayListener15,maxpri=10]
    Thread[GatewayListener15,5,GatewayListener15]
2018-07-08T09:46:05.312Z [GatewayListener15] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interrupt, closing socket
2018-07-08T09:46:05.312Z [Thread-354] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - 





2018-07-08T09:46:05.312Z [Thread-354] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - ********* Test: testClientDoesNotResendMessagesWhenServerClosesSocketWithoutErrorPacket
2018-07-08T09:46:05.316Z [Thread-354] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Starting APNSServerSimulator
2018-07-08T09:46:05.316Z [FeedbackRunner18] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Launched FeedbackRunner18
2018-07-08T09:46:05.316Z [GatewayListener17] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Launched GatewayListener17
2018-07-08T09:46:05.320Z [Thread-354] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=32; Token=FFFF01014C30EB7A2E6425DB376050CDFBEEA26382C22BF344B9CF9156867DB0; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:05.321Z [Thread-354] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Connected new socket 6365acd4[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=44939,localport=40629]]
2018-07-08T09:46:05.321Z [Thread-354] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Launching Monitoring Thread for socket 6365acd4[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=44939,localport=40629]]
2018-07-08T09:46:05.321Z [Thread-354] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Made a new connection to APNS
2018-07-08T09:46:05.321Z [Thread-355] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Running parseNotifications 7ef16245[SSL_NULL_WITH_NULL_NULL: Socket[addr=/127.0.0.1,port=40629,localport=44939]]
2018-07-08T09:46:05.321Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Started monitoring thread
2018-07-08T09:46:05.403Z [Thread-355] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:05.403Z [Thread-354] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:05.403Z [Thread-355] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=32, expiry=1, deviceToken=FFFF01014C30EB7A2E6425DB376050CDFBEEA26382C22BF344B9CF9156867DB0, priority=10}
2018-07-08T09:46:05.403Z [Thread-355] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=32, expiry=1, deviceToken=FFFF01014C30EB7A2E6425DB376050CDFBEEA26382C22BF344B9CF9156867DB0, priority=10}
2018-07-08T09:46:05.403Z [Thread-354] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=33; Token=FFFF01010E3F15048425101760278431A03974DB6B1426E0AC5D69ACFDD23760; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:05.404Z [Thread-354] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:05.404Z [Thread-354] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=34; Token=FFFF010197267429B2D7C74EF8801ABFFD0B55C82B9A67034F3AEEA379A4680C; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:05.423Z [Thread-354] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:05.423Z [Thread-354] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=35; Token=FFFF0101ABBCEEC4C0C0BA8279BEF68FE28FE8BC1F9E970BCB96780171233198; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:05.424Z [Thread-354] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:05.424Z [Thread-354] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=36; Token=FFFF0101E22FB1B1FF701C4754E86558030D2446B9FC5E4940E57BB4C02A8C40; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:05.424Z [Thread-354] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:05.425Z [Thread-354] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=37; Token=FFFF016427CEA789824783BD6F283B5A78411724FED23872D40E6660F3D9B61A; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:05.425Z [Thread-354] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:05.425Z [Thread-354] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=38; Token=FFFF0101391B1C84A006023EA2041F463D4A3755097D3A1231D06D1BCEF728FF; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:05.425Z [Thread-354] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:05.425Z [Thread-354] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=39; Token=FFFF01012D376E7974782FFD39699B70B31BEE2B86E46CB602262011C72447D5; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:05.426Z [Thread-354] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:05.426Z [Thread-354] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=40; Token=FFFF0101EA9424D55D23CE787583AE271E8A701C371F91B279C97E7B89DD38CF; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:05.426Z [Thread-354] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:05.426Z [Thread-354] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=41; Token=FFFF0101AB00CC6C7E0E06390B6CEE0424E21CEF735D6A26CCBCC12D734D8CE8; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:05.427Z [Thread-354] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:05.427Z [Thread-354] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=42; Token=FFFF010181F661C73F966280A3A187CF5411E489A228E78FB3E70D7C17F191E5; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:05.427Z [Thread-354] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:05.427Z [Thread-354] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=43; Token=FFFF0101CF48435ECA5006D95A53A0E09D5E7F91C2F1C3C8ECC3B2A3BB089A24; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:05.427Z [Thread-354] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:05.427Z [Thread-354] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=44; Token=FFFF0101CC16D9C58F02C709407BEA03D3B274B9E5EF80C7B819C1F7DBDA7DCD; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:05.428Z [Thread-354] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:05.428Z [Thread-354] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - assertNumberReceived 6
2018-07-08T09:46:05.428Z [Thread-354] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=32, expiry=1, deviceToken=FFFF01014C30EB7A2E6425DB376050CDFBEEA26382C22BF344B9CF9156867DB0, priority=10}
2018-07-08T09:46:05.504Z [Thread-355] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:05.504Z [Thread-355] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=33, expiry=1, deviceToken=FFFF01010E3F15048425101760278431A03974DB6B1426E0AC5D69ACFDD23760, priority=10}
2018-07-08T09:46:05.504Z [Thread-355] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=33, expiry=1, deviceToken=FFFF01010E3F15048425101760278431A03974DB6B1426E0AC5D69ACFDD23760, priority=10}
2018-07-08T09:46:05.504Z [Thread-354] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=33, expiry=1, deviceToken=FFFF01010E3F15048425101760278431A03974DB6B1426E0AC5D69ACFDD23760, priority=10}
2018-07-08T09:46:05.604Z [Thread-355] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:05.604Z [Thread-355] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=34, expiry=1, deviceToken=FFFF010197267429B2D7C74EF8801ABFFD0B55C82B9A67034F3AEEA379A4680C, priority=10}
2018-07-08T09:46:05.604Z [Thread-355] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=34, expiry=1, deviceToken=FFFF010197267429B2D7C74EF8801ABFFD0B55C82B9A67034F3AEEA379A4680C, priority=10}
2018-07-08T09:46:05.605Z [Thread-354] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=34, expiry=1, deviceToken=FFFF010197267429B2D7C74EF8801ABFFD0B55C82B9A67034F3AEEA379A4680C, priority=10}
2018-07-08T09:46:05.705Z [Thread-355] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:05.705Z [Thread-355] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=35, expiry=1, deviceToken=FFFF0101ABBCEEC4C0C0BA8279BEF68FE28FE8BC1F9E970BCB96780171233198, priority=10}
2018-07-08T09:46:05.705Z [Thread-355] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=35, expiry=1, deviceToken=FFFF0101ABBCEEC4C0C0BA8279BEF68FE28FE8BC1F9E970BCB96780171233198, priority=10}
2018-07-08T09:46:05.705Z [Thread-354] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=35, expiry=1, deviceToken=FFFF0101ABBCEEC4C0C0BA8279BEF68FE28FE8BC1F9E970BCB96780171233198, priority=10}
2018-07-08T09:46:05.805Z [Thread-355] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:05.805Z [Thread-355] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=36, expiry=1, deviceToken=FFFF0101E22FB1B1FF701C4754E86558030D2446B9FC5E4940E57BB4C02A8C40, priority=10}
2018-07-08T09:46:05.806Z [Thread-355] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=36, expiry=1, deviceToken=FFFF0101E22FB1B1FF701C4754E86558030D2446B9FC5E4940E57BB4C02A8C40, priority=10}
2018-07-08T09:46:05.806Z [Thread-354] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=36, expiry=1, deviceToken=FFFF0101E22FB1B1FF701C4754E86558030D2446B9FC5E4940E57BB4C02A8C40, priority=10}
2018-07-08T09:46:05.906Z [Thread-355] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:05.906Z [Thread-355] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=37, expiry=1, deviceToken=FFFF016427CEA789824783BD6F283B5A78411724FED23872D40E6660F3D9B61A, priority=10}
2018-07-08T09:46:05.906Z [Thread-355] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=37, expiry=1, deviceToken=FFFF016427CEA789824783BD6F283B5A78411724FED23872D40E6660F3D9B61A, priority=10}
2018-07-08T09:46:05.906Z [Thread-354] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=37, expiry=1, deviceToken=FFFF016427CEA789824783BD6F283B5A78411724FED23872D40E6660F3D9B61A, priority=10}
2018-07-08T09:46:05.906Z [Thread-354] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - assertNumberReceived - successfully took 6
2018-07-08T09:46:05.906Z [Thread-354] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - assertIdle
2018-07-08T09:46:06.907Z [Thread-354] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Stopping APNSServerSimulator
2018-07-08T09:46:06.907Z [Thread-354] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interrupt, closing socket
2018-07-08T09:46:06.907Z [Thread-354] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Stopped - APNSServerSimulator
2018-07-08T09:46:06.907Z [GatewayListener17] WARN com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interruption while handling gateway connection
2018-07-08T09:46:06.907Z [FeedbackRunner18] WARN com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interruption while handling feedback connection
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at sun.security.ssl.SSLServerSocketImpl.accept(SSLServerSocketImpl.java:348)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$FeedbackRunner.run(ApnsServerSimulator.java:313)
java.net.SocketException: Socket closed2018-07-08T09:46:06.909Z [FeedbackRunner18] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Terminating FeedbackRunner18

	at java.net.PlainSocketImpl.socketAccept(Native Method)java.lang.ThreadGroup[name=FeedbackRunner18,maxpri=10]

 	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409) 
  	at java.net.ServerSocket.implAccept(ServerSocket.java:545)Thread[FeedbackRunner18,5,FeedbackRunner18]

	at sun.security.ssl.SSLServerSocketImpl.accept(SSLServerSocketImpl.java:348)
2018-07-08T09:46:06.910Z [Thread-356] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - 





	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener.run(ApnsServerSimulator.java:142)
2018-07-08T09:46:06.910Z [Thread-356] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - ********* Test: sendThousand
2018-07-08T09:46:06.910Z [GatewayListener17] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interrupt, closing socket
2018-07-08T09:46:06.910Z [GatewayListener17] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Terminating GatewayListener17
java.lang.ThreadGroup[name=GatewayListener17,maxpri=10]
    Thread[GatewayListener17,5,GatewayListener17]
    Thread[Thread-355,5,GatewayListener17]
2018-07-08T09:46:06.911Z [GatewayListener17] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interrupt, closing socket
2018-07-08T09:46:06.911Z [Thread-355] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:06.911Z [Thread-355] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=38, expiry=1, deviceToken=FFFF0101391B1C84A006023EA2041F463D4A3755097D3A1231D06D1BCEF728FF, priority=10}
2018-07-08T09:46:06.911Z [Thread-355] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=38, expiry=1, deviceToken=FFFF0101391B1C84A006023EA2041F463D4A3755097D3A1231D06D1BCEF728FF, priority=10}
2018-07-08T09:46:06.923Z [Thread-356] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Starting APNSServerSimulator
2018-07-08T09:46:06.924Z [FeedbackRunner20] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Launched FeedbackRunner20
2018-07-08T09:46:06.924Z [GatewayListener19] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Launched GatewayListener19
2018-07-08T09:46:07.125Z [Thread-356] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - assertIdle
2018-07-08T09:46:08.126Z [Thread-356] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - assertDelegateSentCount 1000
2018-07-08T09:46:08.132Z [FeedbackRunner20] WARN com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interruption while handling feedback connection
2018-07-08T09:46:08.132Z [GatewayListener19] WARN com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interruption while handling gateway connection
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at sun.security.ssl.SSLServerSocketImpl.accept(SSLServerSocketImpl.java:348)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$FeedbackRunner.run(ApnsServerSimulator.java:313)
java.net.SocketException: Socket closedjava.lang.ThreadGroup[name=FeedbackRunner20,maxpri=10]

  	at java.net.PlainSocketImpl.socketAccept(Native Method) 
 	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)Thread[FeedbackRunner20,5,FeedbackRunner20]

	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at sun.security.ssl.SSLServerSocketImpl.accept(SSLServerSocketImpl.java:348)2018-07-08T09:46:08.135Z [Thread-358] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - 






	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener.run(ApnsServerSimulator.java:142)
2018-07-08T09:46:08.135Z [Thread-358] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - ********* Test: sendOne
2018-07-08T09:46:08.135Z [GatewayListener19] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interrupt, closing socket
2018-07-08T09:46:08.135Z [GatewayListener19] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Terminating GatewayListener19
java.lang.ThreadGroup[name=GatewayListener19,maxpri=10]
    Thread[GatewayListener19,5,GatewayListener19]
    Thread[Thread-357,5,GatewayListener19]
2018-07-08T09:46:08.135Z [GatewayListener19] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interrupt, closing socket
2018-07-08T09:46:08.139Z [Thread-358] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Starting APNSServerSimulator
2018-07-08T09:46:08.139Z [GatewayListener21] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Launched GatewayListener21
2018-07-08T09:46:08.140Z [FeedbackRunner22] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Launched FeedbackRunner22
2018-07-08T09:46:08.143Z [Thread-358] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=1045; Token=2A6E8FAC290D1B1889036C4F4FE93846BE251775CEFE4F9443934C57C7EC1674; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:08.144Z [Thread-358] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Connected new socket 51deea61[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=39923,localport=47624]]
2018-07-08T09:46:08.144Z [Thread-358] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Launching Monitoring Thread for socket 51deea61[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=39923,localport=47624]]
2018-07-08T09:46:08.144Z [Thread-359] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Running parseNotifications 694f14fb[SSL_NULL_WITH_NULL_NULL: Socket[addr=/127.0.0.1,port=47624,localport=39923]]
2018-07-08T09:46:08.144Z [Thread-358] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Made a new connection to APNS
2018-07-08T09:46:08.144Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Started monitoring thread
2018-07-08T09:46:08.227Z [Thread-359] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:08.227Z [Thread-358] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:08.227Z [Thread-359] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=1045, expiry=1, deviceToken=2A6E8FAC290D1B1889036C4F4FE93846BE251775CEFE4F9443934C57C7EC1674, priority=10}
2018-07-08T09:46:08.227Z [Thread-359] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=1045, expiry=1, deviceToken=2A6E8FAC290D1B1889036C4F4FE93846BE251775CEFE4F9443934C57C7EC1674, priority=10}
2018-07-08T09:46:08.227Z [Thread-358] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - assertIdle
2018-07-08T09:46:09.227Z [Thread-358] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - assertDelegateSentCount 1
2018-07-08T09:46:09.227Z [Thread-358] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Stopping APNSServerSimulator
2018-07-08T09:46:09.227Z [Thread-358] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interrupt, closing socket
2018-07-08T09:46:09.227Z [Thread-358] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Stopped - APNSServerSimulator
2018-07-08T09:46:09.228Z [FeedbackRunner22] WARN com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interruption while handling feedback connection
Tests run: 11, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 13.176 sec
2018-07-08T09:46:09.228Z [GatewayListener21] WARN com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interruption while handling gateway connection
Running com.notnoop.apns.integration.ApnsSimulatorLongRunningTest
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at sun.security.ssl.SSLServerSocketImpl.accept(SSLServerSocketImpl.java:348)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$FeedbackRunner.run(ApnsServerSimulator.java:313)
java.net.SocketException: Socket closed2018-07-08T09:46:09.228Z [FeedbackRunner22] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Terminating FeedbackRunner22

java.lang.ThreadGroup[name=FeedbackRunner22,maxpri=10]
	at java.net.PlainSocketImpl.socketAccept(Native Method) 
 	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409) 
 	at java.net.ServerSocket.implAccept(ServerSocket.java:545)Thread[FeedbackRunner22,5,FeedbackRunner22]

	at sun.security.ssl.SSLServerSocketImpl.accept(SSLServerSocketImpl.java:348)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener.run(ApnsServerSimulator.java:142)
2018-07-08T09:46:09.228Z [GatewayListener21] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interrupt, closing socket
2018-07-08T09:46:09.228Z [GatewayListener21] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Terminating GatewayListener21
java.lang.ThreadGroup[name=GatewayListener21,maxpri=10]
    Thread[GatewayListener21,5,GatewayListener21]
    Thread[Thread-359,5,GatewayListener21]
2018-07-08T09:46:09.229Z [main] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - 





2018-07-08T09:46:09.229Z [GatewayListener21] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interrupt, closing socket
2018-07-08T09:46:09.229Z [main] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - ********* Test: multipleTokensBad_issue145
2018-07-08T09:46:09.233Z [main] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Starting APNSServerSimulator
2018-07-08T09:46:09.234Z [GatewayListener23] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Launched GatewayListener23
2018-07-08T09:46:09.234Z [FeedbackRunner24] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Launched FeedbackRunner24
2018-07-08T09:46:09.238Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorLongRunningTest - *********** 0
2018-07-08T09:46:09.238Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=1046; Token=FFFF0008ABD524044A1D9328BFF810820CBBC3FA7DADC8CB118CB4024F85CC7C; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:09.238Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Connected new socket 23282c25[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=57202,localport=51578]]
2018-07-08T09:46:09.239Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Launching Monitoring Thread for socket 23282c25[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=57202,localport=51578]]
2018-07-08T09:46:09.239Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Made a new connection to APNS
2018-07-08T09:46:09.239Z [Thread-360] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Running parseNotifications 77d62a6e[SSL_NULL_WITH_NULL_NULL: Socket[addr=/127.0.0.1,port=51578,localport=57202]]
2018-07-08T09:46:09.239Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Started monitoring thread
2018-07-08T09:46:09.318Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:09.318Z [Thread-360] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:09.319Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=1047; Token=2A873851B42E4C95AED165BE8A9A3694FC0E6F9A563C2AF2E5E8AFC1A914BE4A; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:09.319Z [Thread-360] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=1046, expiry=1, deviceToken=FFFF0008ABD524044A1D9328BFF810820CBBC3FA7DADC8CB118CB4024F85CC7C, priority=10}
2018-07-08T09:46:09.319Z [Thread-360] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=1046, expiry=1, deviceToken=FFFF0008ABD524044A1D9328BFF810820CBBC3FA7DADC8CB118CB4024F85CC7C, priority=10}
2018-07-08T09:46:09.319Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:09.319Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - assertNumberReceived 2
2018-07-08T09:46:09.319Z [Thread-360] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - FAIL 8 1046
2018-07-08T09:46:09.319Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=1046, expiry=1, deviceToken=FFFF0008ABD524044A1D9328BFF810820CBBC3FA7DADC8CB118CB4024F85CC7C, priority=10}
2018-07-08T09:46:09.319Z [Thread-360] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - FAIL - closed
2018-07-08T09:46:09.319Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Error-response packet 080800000416
2018-07-08T09:46:09.319Z [Thread-360] WARN com.notnoop.apns.utils.Simulator.ApnsServerSimulator - An error occured while reading notification
2018-07-08T09:46:09.319Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.Utilities - close 23282c25[TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256: Socket[addr=localhost/127.0.0.1,port=57202,localport=51578]]
java.net.SocketException: Socket is closed
	at sun.security.ssl.SSLSocketImpl.checkEOF(SSLSocketImpl.java:1532)
	at sun.security.ssl.AppInputStream.read(AppInputStream.java:95)2018-07-08T09:46:09.319Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Closed connection cause=INVALID_TOKEN; id=1046

	at sun.security.ssl.AppInputStream.read(AppInputStream.java:71)
	at java.io.DataInputStream.readByte(DataInputStream.java:265)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener.parseNotifications(ApnsServerSimulator.java:176)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener.access$700(ApnsServerSimulator.java:117)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener$1.run(ApnsServerSimulator.java:162)
2018-07-08T09:46:09.320Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Candidate for removal, message id 1046
2018-07-08T09:46:09.320Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Bad message found 1046
2018-07-08T09:46:09.320Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - delegate.messageSendFailed, message id 1046
2018-07-08T09:46:09.320Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Queuing for resend 1047
2018-07-08T09:46:09.320Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - resending 1 notifications
2018-07-08T09:46:09.320Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Monitoring input stream closed by EOF
2018-07-08T09:46:09.320Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.Utilities - close 23282c25[TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256: Socket[addr=localhost/127.0.0.1,port=57202,localport=51578]]
2018-07-08T09:46:09.320Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:09.320Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=1047; Token=2A873851B42E4C95AED165BE8A9A3694FC0E6F9A563C2AF2E5E8AFC1A914BE4A; Payload={"aps":{}}) fromBuffer: true
2018-07-08T09:46:09.320Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Connected new socket 7670aec3[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=57202,localport=51579]]
2018-07-08T09:46:09.320Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Launching Monitoring Thread for socket 7670aec3[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=57202,localport=51579]]
2018-07-08T09:46:09.320Z [MonitoringThread-1] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Made a new connection to APNS
2018-07-08T09:46:09.321Z [Thread-361] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Running parseNotifications 241e7613[SSL_NULL_WITH_NULL_NULL: Socket[addr=/127.0.0.1,port=51579,localport=57202]]
2018-07-08T09:46:09.321Z [MonitoringThread-2] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Started monitoring thread
2018-07-08T09:46:09.358Z [Thread-361] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:09.358Z [Thread-361] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=1047, expiry=1, deviceToken=2A873851B42E4C95AED165BE8A9A3694FC0E6F9A563C2AF2E5E8AFC1A914BE4A, priority=10}
2018-07-08T09:46:09.358Z [Thread-361] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=1047, expiry=1, deviceToken=2A873851B42E4C95AED165BE8A9A3694FC0E6F9A563C2AF2E5E8AFC1A914BE4A, priority=10}
2018-07-08T09:46:09.359Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=1047, expiry=1, deviceToken=2A873851B42E4C95AED165BE8A9A3694FC0E6F9A563C2AF2E5E8AFC1A914BE4A, priority=10}
2018-07-08T09:46:09.359Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - assertNumberReceived - successfully took 2
2018-07-08T09:46:09.359Z [main] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - assertIdle
2018-07-08T09:46:10.359Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorLongRunningTest - *********** 1
2018-07-08T09:46:10.359Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=1048; Token=FFFF00080BED7A8035C127DD203F687C42DEE7DFDC3C3A284A076EBF026641BD; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:10.359Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:10.359Z [Thread-361] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:10.359Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=1049; Token=2AE8BF633E97A112B580FE6BA399FADD239764CA4F7D01E6DEEEEC807E882D22; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:10.359Z [Thread-361] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=1048, expiry=1, deviceToken=FFFF00080BED7A8035C127DD203F687C42DEE7DFDC3C3A284A076EBF026641BD, priority=10}
2018-07-08T09:46:10.359Z [Thread-361] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=1048, expiry=1, deviceToken=FFFF00080BED7A8035C127DD203F687C42DEE7DFDC3C3A284A076EBF026641BD, priority=10}
2018-07-08T09:46:10.359Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:10.359Z [Thread-361] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - FAIL 8 1048
2018-07-08T09:46:10.359Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - assertNumberReceived 2
2018-07-08T09:46:10.359Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=1048, expiry=1, deviceToken=FFFF00080BED7A8035C127DD203F687C42DEE7DFDC3C3A284A076EBF026641BD, priority=10}
2018-07-08T09:46:10.359Z [MonitoringThread-2] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Error-response packet 080800000418
2018-07-08T09:46:10.359Z [Thread-361] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - FAIL - closed
2018-07-08T09:46:10.359Z [MonitoringThread-2] DEBUG com.notnoop.apns.internal.Utilities - close 7670aec3[TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256: Socket[addr=localhost/127.0.0.1,port=57202,localport=51579]]
2018-07-08T09:46:10.360Z [Thread-361] WARN com.notnoop.apns.utils.Simulator.ApnsServerSimulator - An error occured while reading notification
java.net.SocketException: Socket is closed
	at sun.security.ssl.SSLSocketImpl.checkEOF(SSLSocketImpl.java:1532)
	at sun.security.ssl.AppInputStream.read(AppInputStream.java:95)
2018-07-08T09:46:10.360Z [MonitoringThread-2] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Closed connection cause=INVALID_TOKEN; id=1048
	at sun.security.ssl.AppInputStream.read(AppInputStream.java:71)
	at java.io.DataInputStream.readByte(DataInputStream.java:265)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener.parseNotifications(ApnsServerSimulator.java:176)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener.access$700(ApnsServerSimulator.java:117)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener$1.run(ApnsServerSimulator.java:162)
2018-07-08T09:46:10.360Z [MonitoringThread-2] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Candidate for removal, message id 1047
2018-07-08T09:46:10.360Z [MonitoringThread-2] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Candidate for removal, message id 1048
2018-07-08T09:46:10.360Z [MonitoringThread-2] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Bad message found 1048
2018-07-08T09:46:10.360Z [MonitoringThread-2] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - delegate.messageSendFailed, message id 1048
2018-07-08T09:46:10.360Z [MonitoringThread-2] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Queuing for resend 1049
2018-07-08T09:46:10.360Z [MonitoringThread-2] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - resending 1 notifications
2018-07-08T09:46:10.360Z [MonitoringThread-2] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Monitoring input stream closed by EOF
2018-07-08T09:46:10.360Z [MonitoringThread-2] DEBUG com.notnoop.apns.internal.Utilities - close 7670aec3[TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256: Socket[addr=localhost/127.0.0.1,port=57202,localport=51579]]
2018-07-08T09:46:10.360Z [MonitoringThread-2] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:10.360Z [MonitoringThread-2] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=1049; Token=2AE8BF633E97A112B580FE6BA399FADD239764CA4F7D01E6DEEEEC807E882D22; Payload={"aps":{}}) fromBuffer: true
2018-07-08T09:46:10.361Z [MonitoringThread-2] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Connected new socket 77572b0[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=57202,localport=51580]]
2018-07-08T09:46:10.361Z [MonitoringThread-2] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Launching Monitoring Thread for socket 77572b0[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=57202,localport=51580]]
2018-07-08T09:46:10.361Z [MonitoringThread-2] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Made a new connection to APNS
2018-07-08T09:46:10.361Z [Thread-362] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Running parseNotifications e9413c6[SSL_NULL_WITH_NULL_NULL: Socket[addr=/127.0.0.1,port=51580,localport=57202]]
2018-07-08T09:46:10.361Z [MonitoringThread-3] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Started monitoring thread
2018-07-08T09:46:10.398Z [Thread-362] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:10.398Z [Thread-362] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=1049, expiry=1, deviceToken=2AE8BF633E97A112B580FE6BA399FADD239764CA4F7D01E6DEEEEC807E882D22, priority=10}
2018-07-08T09:46:10.399Z [Thread-362] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=1049, expiry=1, deviceToken=2AE8BF633E97A112B580FE6BA399FADD239764CA4F7D01E6DEEEEC807E882D22, priority=10}
2018-07-08T09:46:10.399Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=1049, expiry=1, deviceToken=2AE8BF633E97A112B580FE6BA399FADD239764CA4F7D01E6DEEEEC807E882D22, priority=10}
2018-07-08T09:46:10.399Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - assertNumberReceived - successfully took 2
2018-07-08T09:46:10.399Z [main] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - assertIdle
2018-07-08T09:46:11.399Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorLongRunningTest - *********** 2
2018-07-08T09:46:11.399Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=1050; Token=FFFF00085ECC98B338AD985E5993E9773C0D227BB168BB20B77E3FCFA67FBBB4; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:11.399Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:11.400Z [Thread-362] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:11.400Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=1051; Token=2A441B43815072F17F3EEBDD2C6C93A3FC4F4340495BDBC4DD67BD5BE6EB028F; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:11.400Z [Thread-362] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=1050, expiry=1, deviceToken=FFFF00085ECC98B338AD985E5993E9773C0D227BB168BB20B77E3FCFA67FBBB4, priority=10}
2018-07-08T09:46:11.400Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:11.400Z [Thread-362] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=1050, expiry=1, deviceToken=FFFF00085ECC98B338AD985E5993E9773C0D227BB168BB20B77E3FCFA67FBBB4, priority=10}
2018-07-08T09:46:11.400Z [Thread-362] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - FAIL 8 1050
2018-07-08T09:46:11.400Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - assertNumberReceived 2
2018-07-08T09:46:11.400Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=1050, expiry=1, deviceToken=FFFF00085ECC98B338AD985E5993E9773C0D227BB168BB20B77E3FCFA67FBBB4, priority=10}
2018-07-08T09:46:11.400Z [MonitoringThread-3] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Error-response packet 08080000041A
2018-07-08T09:46:11.400Z [Thread-362] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - FAIL - closed
2018-07-08T09:46:11.400Z [MonitoringThread-3] DEBUG com.notnoop.apns.internal.Utilities - close 77572b0[TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256: Socket[addr=localhost/127.0.0.1,port=57202,localport=51580]]
2018-07-08T09:46:11.400Z [Thread-362] WARN com.notnoop.apns.utils.Simulator.ApnsServerSimulator - An error occured while reading notification
java.net.SocketException: Socket is closed
2018-07-08T09:46:11.400Z [MonitoringThread-3] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Closed connection cause=INVALID_TOKEN; id=1050
	at sun.security.ssl.SSLSocketImpl.checkEOF(SSLSocketImpl.java:1532)
	at sun.security.ssl.AppInputStream.read(AppInputStream.java:95)
	at sun.security.ssl.AppInputStream.read(AppInputStream.java:71)
	at java.io.DataInputStream.readByte(DataInputStream.java:265)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener.parseNotifications(ApnsServerSimulator.java:176)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener.access$700(ApnsServerSimulator.java:117)
2018-07-08T09:46:11.400Z [MonitoringThread-3] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Candidate for removal, message id 1049
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener$1.run(ApnsServerSimulator.java:162)
2018-07-08T09:46:11.400Z [MonitoringThread-3] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Candidate for removal, message id 1050
2018-07-08T09:46:11.400Z [MonitoringThread-3] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Bad message found 1050
2018-07-08T09:46:11.400Z [MonitoringThread-3] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - delegate.messageSendFailed, message id 1050
2018-07-08T09:46:11.400Z [MonitoringThread-3] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Queuing for resend 1051
2018-07-08T09:46:11.400Z [MonitoringThread-3] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - resending 1 notifications
2018-07-08T09:46:11.400Z [MonitoringThread-3] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Monitoring input stream closed by EOF
2018-07-08T09:46:11.400Z [MonitoringThread-3] DEBUG com.notnoop.apns.internal.Utilities - close 77572b0[TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256: Socket[addr=localhost/127.0.0.1,port=57202,localport=51580]]
2018-07-08T09:46:11.400Z [MonitoringThread-3] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:11.400Z [MonitoringThread-3] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=1051; Token=2A441B43815072F17F3EEBDD2C6C93A3FC4F4340495BDBC4DD67BD5BE6EB028F; Payload={"aps":{}}) fromBuffer: true
2018-07-08T09:46:11.401Z [MonitoringThread-3] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Connected new socket 44d471bc[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=57202,localport=51581]]
2018-07-08T09:46:11.401Z [MonitoringThread-3] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Launching Monitoring Thread for socket 44d471bc[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=57202,localport=51581]]
2018-07-08T09:46:11.401Z [MonitoringThread-3] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Made a new connection to APNS
2018-07-08T09:46:11.401Z [Thread-363] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Running parseNotifications 5387b0e5[SSL_NULL_WITH_NULL_NULL: Socket[addr=/127.0.0.1,port=51581,localport=57202]]
2018-07-08T09:46:11.401Z [MonitoringThread-4] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Started monitoring thread
2018-07-08T09:46:11.442Z [Thread-363] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:11.443Z [Thread-363] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=1051, expiry=1, deviceToken=2A441B43815072F17F3EEBDD2C6C93A3FC4F4340495BDBC4DD67BD5BE6EB028F, priority=10}
2018-07-08T09:46:11.443Z [Thread-363] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=1051, expiry=1, deviceToken=2A441B43815072F17F3EEBDD2C6C93A3FC4F4340495BDBC4DD67BD5BE6EB028F, priority=10}
2018-07-08T09:46:11.443Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=1051, expiry=1, deviceToken=2A441B43815072F17F3EEBDD2C6C93A3FC4F4340495BDBC4DD67BD5BE6EB028F, priority=10}
2018-07-08T09:46:11.443Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - assertNumberReceived - successfully took 2
2018-07-08T09:46:11.443Z [main] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - assertIdle
2018-07-08T09:46:12.443Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorLongRunningTest - *********** 3
2018-07-08T09:46:12.443Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=1052; Token=FFFF00083F292F9B7AA9568B2B6B871627D165822207B876CDF7476B0E433312; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:12.444Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:12.444Z [Thread-363] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:12.444Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=1053; Token=2A6B1AE336CA6CECD1D25DB5071F4A4054DB23798CE88EE2F8B26D68D2988B8A; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:12.444Z [Thread-363] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=1052, expiry=1, deviceToken=FFFF00083F292F9B7AA9568B2B6B871627D165822207B876CDF7476B0E433312, priority=10}
2018-07-08T09:46:12.444Z [Thread-363] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=1052, expiry=1, deviceToken=FFFF00083F292F9B7AA9568B2B6B871627D165822207B876CDF7476B0E433312, priority=10}
2018-07-08T09:46:12.444Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:12.444Z [Thread-363] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - FAIL 8 1052
2018-07-08T09:46:12.444Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - assertNumberReceived 2
2018-07-08T09:46:12.444Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=1052, expiry=1, deviceToken=FFFF00083F292F9B7AA9568B2B6B871627D165822207B876CDF7476B0E433312, priority=10}
2018-07-08T09:46:12.444Z [MonitoringThread-4] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Error-response packet 08080000041C
2018-07-08T09:46:12.444Z [MonitoringThread-4] DEBUG com.notnoop.apns.internal.Utilities - close 44d471bc[TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256: Socket[addr=localhost/127.0.0.1,port=57202,localport=51581]]
2018-07-08T09:46:12.444Z [Thread-363] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - FAIL - closed
2018-07-08T09:46:12.444Z [Thread-363] WARN com.notnoop.apns.utils.Simulator.ApnsServerSimulator - An error occured while reading notification
java.net.SocketException: Socket is closed
2018-07-08T09:46:12.444Z [MonitoringThread-4] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Closed connection cause=INVALID_TOKEN; id=1052
	at sun.security.ssl.SSLSocketImpl.checkEOF(SSLSocketImpl.java:1532)
	at sun.security.ssl.AppInputStream.read(AppInputStream.java:95)
	at sun.security.ssl.AppInputStream.read(AppInputStream.java:71)
	at java.io.DataInputStream.readByte(DataInputStream.java:265)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener.parseNotifications(ApnsServerSimulator.java:176)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener.access$700(ApnsServerSimulator.java:117)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener$1.run(ApnsServerSimulator.java:162)
2018-07-08T09:46:12.444Z [MonitoringThread-4] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Candidate for removal, message id 1051
2018-07-08T09:46:12.445Z [MonitoringThread-4] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Candidate for removal, message id 1052
2018-07-08T09:46:12.445Z [MonitoringThread-4] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Bad message found 1052
2018-07-08T09:46:12.445Z [MonitoringThread-4] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - delegate.messageSendFailed, message id 1052
2018-07-08T09:46:12.445Z [MonitoringThread-4] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Queuing for resend 1053
2018-07-08T09:46:12.445Z [MonitoringThread-4] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - resending 1 notifications
2018-07-08T09:46:12.445Z [MonitoringThread-4] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Monitoring input stream closed by EOF
2018-07-08T09:46:12.445Z [MonitoringThread-4] DEBUG com.notnoop.apns.internal.Utilities - close 44d471bc[TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256: Socket[addr=localhost/127.0.0.1,port=57202,localport=51581]]
2018-07-08T09:46:12.445Z [MonitoringThread-4] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:12.445Z [MonitoringThread-4] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=1053; Token=2A6B1AE336CA6CECD1D25DB5071F4A4054DB23798CE88EE2F8B26D68D2988B8A; Payload={"aps":{}}) fromBuffer: true
2018-07-08T09:46:12.445Z [MonitoringThread-4] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Connected new socket 13cbae23[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=57202,localport=51582]]
2018-07-08T09:46:12.445Z [MonitoringThread-4] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Launching Monitoring Thread for socket 13cbae23[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=57202,localport=51582]]
2018-07-08T09:46:12.445Z [MonitoringThread-4] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Made a new connection to APNS
2018-07-08T09:46:12.445Z [Thread-364] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Running parseNotifications 54867da1[SSL_NULL_WITH_NULL_NULL: Socket[addr=/127.0.0.1,port=51582,localport=57202]]
2018-07-08T09:46:12.445Z [MonitoringThread-5] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Started monitoring thread
2018-07-08T09:46:12.482Z [Thread-364] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:12.482Z [Thread-364] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=1053, expiry=1, deviceToken=2A6B1AE336CA6CECD1D25DB5071F4A4054DB23798CE88EE2F8B26D68D2988B8A, priority=10}
2018-07-08T09:46:12.482Z [Thread-364] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=1053, expiry=1, deviceToken=2A6B1AE336CA6CECD1D25DB5071F4A4054DB23798CE88EE2F8B26D68D2988B8A, priority=10}
2018-07-08T09:46:12.482Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=1053, expiry=1, deviceToken=2A6B1AE336CA6CECD1D25DB5071F4A4054DB23798CE88EE2F8B26D68D2988B8A, priority=10}
2018-07-08T09:46:12.482Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - assertNumberReceived - successfully took 2
2018-07-08T09:46:12.482Z [main] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - assertIdle
2018-07-08T09:46:13.483Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorLongRunningTest - *********** 4
2018-07-08T09:46:13.483Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=1054; Token=FFFF00088751DBAB5ED15850972E31177058FF179ACAD18841BF76AB4AF752B2; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:13.483Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:13.483Z [Thread-364] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:13.483Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=1055; Token=2AE5C27556D48EC6B180CDA854B9B8A93AE86E9AA35BF0DF831EA4DE7247531D; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:13.483Z [Thread-364] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=1054, expiry=1, deviceToken=FFFF00088751DBAB5ED15850972E31177058FF179ACAD18841BF76AB4AF752B2, priority=10}
2018-07-08T09:46:13.483Z [Thread-364] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=1054, expiry=1, deviceToken=FFFF00088751DBAB5ED15850972E31177058FF179ACAD18841BF76AB4AF752B2, priority=10}
2018-07-08T09:46:13.483Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:13.483Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - assertNumberReceived 2
2018-07-08T09:46:13.483Z [Thread-364] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - FAIL 8 1054
2018-07-08T09:46:13.483Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=1054, expiry=1, deviceToken=FFFF00088751DBAB5ED15850972E31177058FF179ACAD18841BF76AB4AF752B2, priority=10}
2018-07-08T09:46:13.483Z [MonitoringThread-5] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Error-response packet 08080000041E
2018-07-08T09:46:13.483Z [Thread-364] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - FAIL - closed
2018-07-08T09:46:13.483Z [Thread-364] WARN com.notnoop.apns.utils.Simulator.ApnsServerSimulator - An error occured while reading notification
2018-07-08T09:46:13.483Z [MonitoringThread-5] DEBUG com.notnoop.apns.internal.Utilities - close 13cbae23[TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256: Socket[addr=localhost/127.0.0.1,port=57202,localport=51582]]
java.net.SocketException: Socket is closed
2018-07-08T09:46:13.484Z [MonitoringThread-5] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Closed connection cause=INVALID_TOKEN; id=1054
	at sun.security.ssl.SSLSocketImpl.checkEOF(SSLSocketImpl.java:1532)
	at sun.security.ssl.AppInputStream.read(AppInputStream.java:95)
	at sun.security.ssl.AppInputStream.read(AppInputStream.java:71)
	at java.io.DataInputStream.readByte(DataInputStream.java:265)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener.parseNotifications(ApnsServerSimulator.java:176)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener.access$700(ApnsServerSimulator.java:117)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener$1.run(ApnsServerSimulator.java:162)
2018-07-08T09:46:13.484Z [MonitoringThread-5] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Candidate for removal, message id 1053
2018-07-08T09:46:13.484Z [MonitoringThread-5] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Candidate for removal, message id 1054
2018-07-08T09:46:13.484Z [MonitoringThread-5] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Bad message found 1054
2018-07-08T09:46:13.484Z [MonitoringThread-5] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - delegate.messageSendFailed, message id 1054
2018-07-08T09:46:13.484Z [MonitoringThread-5] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Queuing for resend 1055
2018-07-08T09:46:13.484Z [MonitoringThread-5] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - resending 1 notifications
2018-07-08T09:46:13.484Z [MonitoringThread-5] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Monitoring input stream closed by EOF
2018-07-08T09:46:13.484Z [MonitoringThread-5] DEBUG com.notnoop.apns.internal.Utilities - close 13cbae23[TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256: Socket[addr=localhost/127.0.0.1,port=57202,localport=51582]]
2018-07-08T09:46:13.484Z [MonitoringThread-5] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:13.484Z [MonitoringThread-5] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=1055; Token=2AE5C27556D48EC6B180CDA854B9B8A93AE86E9AA35BF0DF831EA4DE7247531D; Payload={"aps":{}}) fromBuffer: true
2018-07-08T09:46:13.484Z [MonitoringThread-5] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Connected new socket 13262a1d[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=57202,localport=51583]]
2018-07-08T09:46:13.484Z [MonitoringThread-5] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Launching Monitoring Thread for socket 13262a1d[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=57202,localport=51583]]
2018-07-08T09:46:13.484Z [MonitoringThread-5] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Made a new connection to APNS
2018-07-08T09:46:13.485Z [MonitoringThread-6] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Started monitoring thread
2018-07-08T09:46:13.485Z [Thread-365] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Running parseNotifications 183d48e1[SSL_NULL_WITH_NULL_NULL: Socket[addr=/127.0.0.1,port=51583,localport=57202]]
2018-07-08T09:46:13.522Z [Thread-365] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:13.523Z [Thread-365] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=1055, expiry=1, deviceToken=2AE5C27556D48EC6B180CDA854B9B8A93AE86E9AA35BF0DF831EA4DE7247531D, priority=10}
2018-07-08T09:46:13.523Z [Thread-365] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=1055, expiry=1, deviceToken=2AE5C27556D48EC6B180CDA854B9B8A93AE86E9AA35BF0DF831EA4DE7247531D, priority=10}
2018-07-08T09:46:13.523Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=1055, expiry=1, deviceToken=2AE5C27556D48EC6B180CDA854B9B8A93AE86E9AA35BF0DF831EA4DE7247531D, priority=10}
2018-07-08T09:46:13.523Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - assertNumberReceived - successfully took 2
2018-07-08T09:46:13.523Z [main] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - assertIdle
2018-07-08T09:46:14.523Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorLongRunningTest - *********** 5
2018-07-08T09:46:14.523Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=1056; Token=FFFF00084DBB7D628BE35710DD47F453C4460773C2D10FD909B92B24ABC99884; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:14.523Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:14.524Z [Thread-365] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:14.524Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=1057; Token=2AC33055192FBE9A63564C39744CFD0AF802FB26569F62511438BB8A381E7860; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:14.524Z [Thread-365] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=1056, expiry=1, deviceToken=FFFF00084DBB7D628BE35710DD47F453C4460773C2D10FD909B92B24ABC99884, priority=10}
2018-07-08T09:46:14.524Z [Thread-365] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=1056, expiry=1, deviceToken=FFFF00084DBB7D628BE35710DD47F453C4460773C2D10FD909B92B24ABC99884, priority=10}
2018-07-08T09:46:14.524Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:14.524Z [Thread-365] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - FAIL 8 1056
2018-07-08T09:46:14.524Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - assertNumberReceived 2
2018-07-08T09:46:14.524Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=1056, expiry=1, deviceToken=FFFF00084DBB7D628BE35710DD47F453C4460773C2D10FD909B92B24ABC99884, priority=10}
2018-07-08T09:46:14.524Z [MonitoringThread-6] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Error-response packet 080800000420
2018-07-08T09:46:14.524Z [Thread-365] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - FAIL - closed
2018-07-08T09:46:14.524Z [MonitoringThread-6] DEBUG com.notnoop.apns.internal.Utilities - close 13262a1d[TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256: Socket[addr=localhost/127.0.0.1,port=57202,localport=51583]]
2018-07-08T09:46:14.524Z [Thread-365] WARN com.notnoop.apns.utils.Simulator.ApnsServerSimulator - An error occured while reading notification
java.net.SocketException: Socket is closed
	at sun.security.ssl.SSLSocketImpl.checkEOF(SSLSocketImpl.java:1532)
	at sun.security.ssl.AppInputStream.read(AppInputStream.java:95)2018-07-08T09:46:14.524Z [MonitoringThread-6] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Closed connection cause=INVALID_TOKEN; id=1056

	at sun.security.ssl.AppInputStream.read(AppInputStream.java:71)
	at java.io.DataInputStream.readByte(DataInputStream.java:265)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener.parseNotifications(ApnsServerSimulator.java:176)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener.access$700(ApnsServerSimulator.java:117)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener$1.run(ApnsServerSimulator.java:162)
2018-07-08T09:46:14.524Z [MonitoringThread-6] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Candidate for removal, message id 1055
2018-07-08T09:46:14.524Z [MonitoringThread-6] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Candidate for removal, message id 1056
2018-07-08T09:46:14.524Z [MonitoringThread-6] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Bad message found 1056
2018-07-08T09:46:14.524Z [MonitoringThread-6] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - delegate.messageSendFailed, message id 1056
2018-07-08T09:46:14.524Z [MonitoringThread-6] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Queuing for resend 1057
2018-07-08T09:46:14.524Z [MonitoringThread-6] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - resending 1 notifications
2018-07-08T09:46:14.524Z [MonitoringThread-6] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Monitoring input stream closed by EOF
2018-07-08T09:46:14.524Z [MonitoringThread-6] DEBUG com.notnoop.apns.internal.Utilities - close 13262a1d[TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256: Socket[addr=localhost/127.0.0.1,port=57202,localport=51583]]
2018-07-08T09:46:14.524Z [MonitoringThread-6] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:14.524Z [MonitoringThread-6] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=1057; Token=2AC33055192FBE9A63564C39744CFD0AF802FB26569F62511438BB8A381E7860; Payload={"aps":{}}) fromBuffer: true
2018-07-08T09:46:14.525Z [MonitoringThread-6] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Connected new socket 50886340[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=57202,localport=51584]]
2018-07-08T09:46:14.525Z [MonitoringThread-6] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Launching Monitoring Thread for socket 50886340[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=57202,localport=51584]]
2018-07-08T09:46:14.525Z [MonitoringThread-6] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Made a new connection to APNS
2018-07-08T09:46:14.525Z [MonitoringThread-7] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Started monitoring thread
2018-07-08T09:46:14.525Z [Thread-366] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Running parseNotifications 1c32cfe4[SSL_NULL_WITH_NULL_NULL: Socket[addr=/127.0.0.1,port=51584,localport=57202]]
2018-07-08T09:46:14.562Z [Thread-366] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:14.562Z [Thread-366] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=1057, expiry=1, deviceToken=2AC33055192FBE9A63564C39744CFD0AF802FB26569F62511438BB8A381E7860, priority=10}
2018-07-08T09:46:14.562Z [Thread-366] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=1057, expiry=1, deviceToken=2AC33055192FBE9A63564C39744CFD0AF802FB26569F62511438BB8A381E7860, priority=10}
2018-07-08T09:46:14.563Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=1057, expiry=1, deviceToken=2AC33055192FBE9A63564C39744CFD0AF802FB26569F62511438BB8A381E7860, priority=10}
2018-07-08T09:46:14.563Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - assertNumberReceived - successfully took 2
2018-07-08T09:46:14.563Z [main] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - assertIdle
2018-07-08T09:46:15.563Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorLongRunningTest - *********** 6
2018-07-08T09:46:15.563Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=1058; Token=FFFF0008EC945418E4917D90803381CA11856ACC823712BE59B08B6CC2DD1C3D; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:15.563Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:15.563Z [Thread-366] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:15.563Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=1059; Token=2A6F4B67FA1AA5826D7DD0A70904D1D21E653E77AEE2EC6C801C500CD5C122BC; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:15.563Z [Thread-366] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=1058, expiry=1, deviceToken=FFFF0008EC945418E4917D90803381CA11856ACC823712BE59B08B6CC2DD1C3D, priority=10}
2018-07-08T09:46:15.563Z [Thread-366] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=1058, expiry=1, deviceToken=FFFF0008EC945418E4917D90803381CA11856ACC823712BE59B08B6CC2DD1C3D, priority=10}
2018-07-08T09:46:15.563Z [Thread-366] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - FAIL 8 1058
2018-07-08T09:46:15.564Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:15.564Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - assertNumberReceived 2
2018-07-08T09:46:15.564Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=1058, expiry=1, deviceToken=FFFF0008EC945418E4917D90803381CA11856ACC823712BE59B08B6CC2DD1C3D, priority=10}
2018-07-08T09:46:15.564Z [Thread-366] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - FAIL - closed
2018-07-08T09:46:15.564Z [MonitoringThread-7] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Error-response packet 080800000422
2018-07-08T09:46:15.564Z [Thread-366] WARN com.notnoop.apns.utils.Simulator.ApnsServerSimulator - An error occured while reading notification
2018-07-08T09:46:15.564Z [MonitoringThread-7] DEBUG com.notnoop.apns.internal.Utilities - close 50886340[TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256: Socket[addr=localhost/127.0.0.1,port=57202,localport=51584]]
java.net.SocketException: Socket is closed
	at sun.security.ssl.SSLSocketImpl.checkEOF(SSLSocketImpl.java:1532)
	at sun.security.ssl.AppInputStream.read(AppInputStream.java:95)
	at sun.security.ssl.AppInputStream.read(AppInputStream.java:71)
	at java.io.DataInputStream.readByte(DataInputStream.java:265)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener.parseNotifications(ApnsServerSimulator.java:176)2018-07-08T09:46:15.564Z [MonitoringThread-7] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Closed connection cause=INVALID_TOKEN; id=1058

	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener.access$700(ApnsServerSimulator.java:117)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener$1.run(ApnsServerSimulator.java:162)
2018-07-08T09:46:15.564Z [MonitoringThread-7] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Candidate for removal, message id 1057
2018-07-08T09:46:15.564Z [MonitoringThread-7] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Candidate for removal, message id 1058
2018-07-08T09:46:15.564Z [MonitoringThread-7] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Bad message found 1058
2018-07-08T09:46:15.564Z [MonitoringThread-7] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - delegate.messageSendFailed, message id 1058
2018-07-08T09:46:15.564Z [MonitoringThread-7] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Queuing for resend 1059
2018-07-08T09:46:15.564Z [MonitoringThread-7] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - resending 1 notifications
2018-07-08T09:46:15.564Z [MonitoringThread-7] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Monitoring input stream closed by EOF
2018-07-08T09:46:15.564Z [MonitoringThread-7] DEBUG com.notnoop.apns.internal.Utilities - close 50886340[TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256: Socket[addr=localhost/127.0.0.1,port=57202,localport=51584]]
2018-07-08T09:46:15.564Z [MonitoringThread-7] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:15.564Z [MonitoringThread-7] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=1059; Token=2A6F4B67FA1AA5826D7DD0A70904D1D21E653E77AEE2EC6C801C500CD5C122BC; Payload={"aps":{}}) fromBuffer: true
2018-07-08T09:46:15.565Z [MonitoringThread-7] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Connected new socket 5a3d3ece[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=57202,localport=51585]]
2018-07-08T09:46:15.565Z [MonitoringThread-7] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Launching Monitoring Thread for socket 5a3d3ece[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=57202,localport=51585]]
2018-07-08T09:46:15.566Z [MonitoringThread-7] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Made a new connection to APNS
2018-07-08T09:46:15.566Z [MonitoringThread-8] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Started monitoring thread
2018-07-08T09:46:15.566Z [Thread-367] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Running parseNotifications 3a512d82[SSL_NULL_WITH_NULL_NULL: Socket[addr=/127.0.0.1,port=51585,localport=57202]]
2018-07-08T09:46:15.606Z [Thread-367] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:15.607Z [Thread-367] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=1059, expiry=1, deviceToken=2A6F4B67FA1AA5826D7DD0A70904D1D21E653E77AEE2EC6C801C500CD5C122BC, priority=10}
2018-07-08T09:46:15.607Z [Thread-367] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=1059, expiry=1, deviceToken=2A6F4B67FA1AA5826D7DD0A70904D1D21E653E77AEE2EC6C801C500CD5C122BC, priority=10}
2018-07-08T09:46:15.607Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=1059, expiry=1, deviceToken=2A6F4B67FA1AA5826D7DD0A70904D1D21E653E77AEE2EC6C801C500CD5C122BC, priority=10}
2018-07-08T09:46:15.607Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - assertNumberReceived - successfully took 2
2018-07-08T09:46:15.607Z [main] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - assertIdle
2018-07-08T09:46:16.607Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorLongRunningTest - *********** 7
2018-07-08T09:46:16.607Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=1060; Token=FFFF0008FC54DA528FD187AF3F901410821186DD04A34908A6A78822615DFB43; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:16.609Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:16.609Z [Thread-367] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:16.609Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=1061; Token=2A7F4E18B0E8D2ED938A710FF43583B576C594E1F428D4A8DCC70415396522F4; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:16.609Z [Thread-367] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=1060, expiry=1, deviceToken=FFFF0008FC54DA528FD187AF3F901410821186DD04A34908A6A78822615DFB43, priority=10}
2018-07-08T09:46:16.609Z [Thread-367] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=1060, expiry=1, deviceToken=FFFF0008FC54DA528FD187AF3F901410821186DD04A34908A6A78822615DFB43, priority=10}
2018-07-08T09:46:16.609Z [Thread-367] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - FAIL 8 1060
2018-07-08T09:46:16.609Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:16.609Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - assertNumberReceived 2
2018-07-08T09:46:16.609Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=1060, expiry=1, deviceToken=FFFF0008FC54DA528FD187AF3F901410821186DD04A34908A6A78822615DFB43, priority=10}
2018-07-08T09:46:16.609Z [MonitoringThread-8] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Error-response packet 080800000424
2018-07-08T09:46:16.609Z [Thread-367] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - FAIL - closed
2018-07-08T09:46:16.609Z [MonitoringThread-8] DEBUG com.notnoop.apns.internal.Utilities - close 5a3d3ece[TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256: Socket[addr=localhost/127.0.0.1,port=57202,localport=51585]]
2018-07-08T09:46:16.609Z [Thread-367] WARN com.notnoop.apns.utils.Simulator.ApnsServerSimulator - An error occured while reading notification
java.net.SocketException: Socket is closed
2018-07-08T09:46:16.610Z [MonitoringThread-8] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Closed connection cause=INVALID_TOKEN; id=1060
	at sun.security.ssl.SSLSocketImpl.checkEOF(SSLSocketImpl.java:1532)
	at sun.security.ssl.AppInputStream.read(AppInputStream.java:95)
	at sun.security.ssl.AppInputStream.read(AppInputStream.java:71)
	at java.io.DataInputStream.readByte(DataInputStream.java:265)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener.parseNotifications(ApnsServerSimulator.java:176)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener.access$700(ApnsServerSimulator.java:117)
2018-07-08T09:46:16.610Z [MonitoringThread-8] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Candidate for removal, message id 1059
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener$1.run(ApnsServerSimulator.java:162)2018-07-08T09:46:16.610Z [MonitoringThread-8] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Candidate for removal, message id 1060

2018-07-08T09:46:16.610Z [MonitoringThread-8] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Bad message found 1060
2018-07-08T09:46:16.610Z [MonitoringThread-8] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - delegate.messageSendFailed, message id 1060
2018-07-08T09:46:16.610Z [MonitoringThread-8] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Queuing for resend 1061
2018-07-08T09:46:16.610Z [MonitoringThread-8] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - resending 1 notifications
2018-07-08T09:46:16.610Z [MonitoringThread-8] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Monitoring input stream closed by EOF
2018-07-08T09:46:16.610Z [MonitoringThread-8] DEBUG com.notnoop.apns.internal.Utilities - close 5a3d3ece[TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256: Socket[addr=localhost/127.0.0.1,port=57202,localport=51585]]
2018-07-08T09:46:16.611Z [MonitoringThread-8] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:16.611Z [MonitoringThread-8] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=1061; Token=2A7F4E18B0E8D2ED938A710FF43583B576C594E1F428D4A8DCC70415396522F4; Payload={"aps":{}}) fromBuffer: true
2018-07-08T09:46:16.612Z [MonitoringThread-8] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Connected new socket 7954cbc4[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=57202,localport=51586]]
2018-07-08T09:46:16.612Z [MonitoringThread-8] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Launching Monitoring Thread for socket 7954cbc4[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=57202,localport=51586]]
2018-07-08T09:46:16.612Z [MonitoringThread-8] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Made a new connection to APNS
2018-07-08T09:46:16.612Z [Thread-368] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Running parseNotifications 3717a8e0[SSL_NULL_WITH_NULL_NULL: Socket[addr=/127.0.0.1,port=51586,localport=57202]]
2018-07-08T09:46:16.612Z [MonitoringThread-9] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Started monitoring thread
2018-07-08T09:46:16.650Z [Thread-368] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:16.650Z [Thread-368] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=1061, expiry=1, deviceToken=2A7F4E18B0E8D2ED938A710FF43583B576C594E1F428D4A8DCC70415396522F4, priority=10}
2018-07-08T09:46:16.650Z [Thread-368] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=1061, expiry=1, deviceToken=2A7F4E18B0E8D2ED938A710FF43583B576C594E1F428D4A8DCC70415396522F4, priority=10}
2018-07-08T09:46:16.651Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=1061, expiry=1, deviceToken=2A7F4E18B0E8D2ED938A710FF43583B576C594E1F428D4A8DCC70415396522F4, priority=10}
2018-07-08T09:46:16.651Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - assertNumberReceived - successfully took 2
2018-07-08T09:46:16.651Z [main] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - assertIdle
2018-07-08T09:46:17.651Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorLongRunningTest - *********** 8
2018-07-08T09:46:17.651Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=1062; Token=FFFF0008564A6808F22A606C1D2FC4D186CF567DB0D732A4A5289E4197886293; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:17.652Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:17.652Z [Thread-368] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:17.652Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=1063; Token=2A7E264934892042DACD99C95472D863102899BFB1D9B8737C65761C96D9ACD3; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:17.652Z [Thread-368] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=1062, expiry=1, deviceToken=FFFF0008564A6808F22A606C1D2FC4D186CF567DB0D732A4A5289E4197886293, priority=10}
2018-07-08T09:46:17.652Z [Thread-368] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=1062, expiry=1, deviceToken=FFFF0008564A6808F22A606C1D2FC4D186CF567DB0D732A4A5289E4197886293, priority=10}
2018-07-08T09:46:17.653Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:17.653Z [Thread-368] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - FAIL 8 1062
2018-07-08T09:46:17.653Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - assertNumberReceived 2
2018-07-08T09:46:17.653Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=1062, expiry=1, deviceToken=FFFF0008564A6808F22A606C1D2FC4D186CF567DB0D732A4A5289E4197886293, priority=10}
2018-07-08T09:46:17.653Z [MonitoringThread-9] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Error-response packet 080800000426
2018-07-08T09:46:17.653Z [Thread-368] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - FAIL - closed
2018-07-08T09:46:17.653Z [Thread-368] WARN com.notnoop.apns.utils.Simulator.ApnsServerSimulator - An error occured while reading notification
2018-07-08T09:46:17.653Z [MonitoringThread-9] DEBUG com.notnoop.apns.internal.Utilities - close 7954cbc4[TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256: Socket[addr=localhost/127.0.0.1,port=57202,localport=51586]]
java.net.SocketException: Socket is closed
	at sun.security.ssl.SSLSocketImpl.checkEOF(SSLSocketImpl.java:1532)
	at sun.security.ssl.AppInputStream.read(AppInputStream.java:95)
	at sun.security.ssl.AppInputStream.read(AppInputStream.java:71)
2018-07-08T09:46:17.654Z [MonitoringThread-9] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Closed connection cause=INVALID_TOKEN; id=1062
	at java.io.DataInputStream.readByte(DataInputStream.java:265)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener.parseNotifications(ApnsServerSimulator.java:176)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener.access$700(ApnsServerSimulator.java:117)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener$1.run(ApnsServerSimulator.java:162)
2018-07-08T09:46:17.654Z [MonitoringThread-9] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Candidate for removal, message id 1061
2018-07-08T09:46:17.654Z [MonitoringThread-9] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Candidate for removal, message id 1062
2018-07-08T09:46:17.654Z [MonitoringThread-9] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Bad message found 1062
2018-07-08T09:46:17.654Z [MonitoringThread-9] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - delegate.messageSendFailed, message id 1062
2018-07-08T09:46:17.655Z [MonitoringThread-9] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Queuing for resend 1063
2018-07-08T09:46:17.655Z [MonitoringThread-9] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - resending 1 notifications
2018-07-08T09:46:17.655Z [MonitoringThread-9] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Monitoring input stream closed by EOF
2018-07-08T09:46:17.655Z [MonitoringThread-9] DEBUG com.notnoop.apns.internal.Utilities - close 7954cbc4[TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256: Socket[addr=localhost/127.0.0.1,port=57202,localport=51586]]
2018-07-08T09:46:17.655Z [MonitoringThread-9] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:17.655Z [MonitoringThread-9] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=1063; Token=2A7E264934892042DACD99C95472D863102899BFB1D9B8737C65761C96D9ACD3; Payload={"aps":{}}) fromBuffer: true
2018-07-08T09:46:17.656Z [MonitoringThread-9] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Connected new socket 758e01b[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=57202,localport=51587]]
2018-07-08T09:46:17.656Z [MonitoringThread-9] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Launching Monitoring Thread for socket 758e01b[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=57202,localport=51587]]
2018-07-08T09:46:17.657Z [MonitoringThread-9] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Made a new connection to APNS
2018-07-08T09:46:17.657Z [Thread-369] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Running parseNotifications 45e88484[SSL_NULL_WITH_NULL_NULL: Socket[addr=/127.0.0.1,port=51587,localport=57202]]
2018-07-08T09:46:17.657Z [MonitoringThread-10] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Started monitoring thread
2018-07-08T09:46:17.699Z [Thread-369] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:17.699Z [Thread-369] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=1063, expiry=1, deviceToken=2A7E264934892042DACD99C95472D863102899BFB1D9B8737C65761C96D9ACD3, priority=10}
2018-07-08T09:46:17.699Z [Thread-369] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=1063, expiry=1, deviceToken=2A7E264934892042DACD99C95472D863102899BFB1D9B8737C65761C96D9ACD3, priority=10}
2018-07-08T09:46:17.699Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=1063, expiry=1, deviceToken=2A7E264934892042DACD99C95472D863102899BFB1D9B8737C65761C96D9ACD3, priority=10}
2018-07-08T09:46:17.699Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - assertNumberReceived - successfully took 2
2018-07-08T09:46:17.699Z [main] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - assertIdle
2018-07-08T09:46:18.699Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorLongRunningTest - *********** 9
2018-07-08T09:46:18.699Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=1064; Token=FFFF0008142C9D92B009270159233042C8573D29304596824C9441E1B7C54475; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:18.701Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:18.701Z [Thread-369] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:18.701Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=1065; Token=2AC5A1CEC11D599E89A22B818D93CDF737AE93BDAE50386FF69F673E5D9E4289; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:18.701Z [Thread-369] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=1064, expiry=1, deviceToken=FFFF0008142C9D92B009270159233042C8573D29304596824C9441E1B7C54475, priority=10}
2018-07-08T09:46:18.701Z [Thread-369] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=1064, expiry=1, deviceToken=FFFF0008142C9D92B009270159233042C8573D29304596824C9441E1B7C54475, priority=10}
2018-07-08T09:46:18.701Z [Thread-369] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - FAIL 8 1064
2018-07-08T09:46:18.701Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:18.701Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - assertNumberReceived 2
2018-07-08T09:46:18.701Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=1064, expiry=1, deviceToken=FFFF0008142C9D92B009270159233042C8573D29304596824C9441E1B7C54475, priority=10}
2018-07-08T09:46:18.701Z [Thread-369] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - FAIL - closed
2018-07-08T09:46:18.701Z [MonitoringThread-10] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Error-response packet 080800000428
2018-07-08T09:46:18.701Z [Thread-369] WARN com.notnoop.apns.utils.Simulator.ApnsServerSimulator - An error occured while reading notification
2018-07-08T09:46:18.701Z [MonitoringThread-10] DEBUG com.notnoop.apns.internal.Utilities - close 758e01b[TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256: Socket[addr=localhost/127.0.0.1,port=57202,localport=51587]]
java.net.SocketException: Socket is closed
	at sun.security.ssl.SSLSocketImpl.checkEOF(SSLSocketImpl.java:1532)
	at sun.security.ssl.AppInputStream.read(AppInputStream.java:95)
	at sun.security.ssl.AppInputStream.read(AppInputStream.java:71)
	at java.io.DataInputStream.readByte(DataInputStream.java:265)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener.parseNotifications(ApnsServerSimulator.java:176)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener.access$700(ApnsServerSimulator.java:117)
2018-07-08T09:46:18.702Z [MonitoringThread-10] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Closed connection cause=INVALID_TOKEN; id=1064
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener$1.run(ApnsServerSimulator.java:162)
2018-07-08T09:46:18.702Z [MonitoringThread-10] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Candidate for removal, message id 1063
2018-07-08T09:46:18.702Z [MonitoringThread-10] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Candidate for removal, message id 1064
2018-07-08T09:46:18.703Z [MonitoringThread-10] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Bad message found 1064
2018-07-08T09:46:18.703Z [MonitoringThread-10] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - delegate.messageSendFailed, message id 1064
2018-07-08T09:46:18.703Z [MonitoringThread-10] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Queuing for resend 1065
2018-07-08T09:46:18.703Z [MonitoringThread-10] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - resending 1 notifications
2018-07-08T09:46:18.703Z [MonitoringThread-10] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Monitoring input stream closed by EOF
2018-07-08T09:46:18.703Z [MonitoringThread-10] DEBUG com.notnoop.apns.internal.Utilities - close 758e01b[TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256: Socket[addr=localhost/127.0.0.1,port=57202,localport=51587]]
2018-07-08T09:46:18.703Z [MonitoringThread-10] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:18.703Z [MonitoringThread-10] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=1065; Token=2AC5A1CEC11D599E89A22B818D93CDF737AE93BDAE50386FF69F673E5D9E4289; Payload={"aps":{}}) fromBuffer: true
2018-07-08T09:46:18.704Z [MonitoringThread-10] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Connected new socket 31e0a9f9[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=57202,localport=51588]]
2018-07-08T09:46:18.704Z [MonitoringThread-10] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Launching Monitoring Thread for socket 31e0a9f9[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=57202,localport=51588]]
2018-07-08T09:46:18.705Z [MonitoringThread-10] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Made a new connection to APNS
2018-07-08T09:46:18.705Z [Thread-370] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Running parseNotifications cf3fa40[SSL_NULL_WITH_NULL_NULL: Socket[addr=/127.0.0.1,port=51588,localport=57202]]
2018-07-08T09:46:18.705Z [MonitoringThread-11] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Started monitoring thread
2018-07-08T09:46:18.747Z [Thread-370] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:18.747Z [Thread-370] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=1065, expiry=1, deviceToken=2AC5A1CEC11D599E89A22B818D93CDF737AE93BDAE50386FF69F673E5D9E4289, priority=10}
2018-07-08T09:46:18.747Z [Thread-370] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=1065, expiry=1, deviceToken=2AC5A1CEC11D599E89A22B818D93CDF737AE93BDAE50386FF69F673E5D9E4289, priority=10}
2018-07-08T09:46:18.747Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=1065, expiry=1, deviceToken=2AC5A1CEC11D599E89A22B818D93CDF737AE93BDAE50386FF69F673E5D9E4289, priority=10}
2018-07-08T09:46:18.747Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - assertNumberReceived - successfully took 2
2018-07-08T09:46:18.747Z [main] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - assertIdle
2018-07-08T09:46:19.747Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorLongRunningTest - *********** 10
2018-07-08T09:46:19.747Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=1066; Token=FFFF00088EA98747AF0CB31775D2979537C855866C97CB4FCF7206B051B1AE51; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:19.748Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:19.748Z [Thread-370] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:19.748Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=1067; Token=2A41755ECE8726D822BF9A993DCE3E587966FB20F46D12D61FF11E383EF1B603; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:19.748Z [Thread-370] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=1066, expiry=1, deviceToken=FFFF00088EA98747AF0CB31775D2979537C855866C97CB4FCF7206B051B1AE51, priority=10}
2018-07-08T09:46:19.749Z [Thread-370] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=1066, expiry=1, deviceToken=FFFF00088EA98747AF0CB31775D2979537C855866C97CB4FCF7206B051B1AE51, priority=10}
2018-07-08T09:46:19.749Z [Thread-370] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - FAIL 8 1066
2018-07-08T09:46:19.749Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:19.749Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - assertNumberReceived 2
2018-07-08T09:46:19.749Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=1066, expiry=1, deviceToken=FFFF00088EA98747AF0CB31775D2979537C855866C97CB4FCF7206B051B1AE51, priority=10}
2018-07-08T09:46:19.749Z [MonitoringThread-11] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Error-response packet 08080000042A
2018-07-08T09:46:19.749Z [MonitoringThread-11] DEBUG com.notnoop.apns.internal.Utilities - close 31e0a9f9[TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256: Socket[addr=localhost/127.0.0.1,port=57202,localport=51588]]
2018-07-08T09:46:19.749Z [Thread-370] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - FAIL - closed
2018-07-08T09:46:19.749Z [Thread-370] WARN com.notnoop.apns.utils.Simulator.ApnsServerSimulator - An error occured while reading notification
java.net.SocketException: Socket is closed2018-07-08T09:46:19.749Z [MonitoringThread-11] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Closed connection cause=INVALID_TOKEN; id=1066

	at sun.security.ssl.SSLSocketImpl.checkEOF(SSLSocketImpl.java:1532)
	at sun.security.ssl.AppInputStream.read(AppInputStream.java:95)
	at sun.security.ssl.AppInputStream.read(AppInputStream.java:71)
	at java.io.DataInputStream.readByte(DataInputStream.java:265)2018-07-08T09:46:19.749Z [MonitoringThread-11] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Candidate for removal, message id 1065

2018-07-08T09:46:19.750Z [MonitoringThread-11] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Candidate for removal, message id 1066
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener.parseNotifications(ApnsServerSimulator.java:176)2018-07-08T09:46:19.750Z [MonitoringThread-11] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Bad message found 1066

2018-07-08T09:46:19.750Z [MonitoringThread-11] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - delegate.messageSendFailed, message id 1066
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener.access$700(ApnsServerSimulator.java:117)
2018-07-08T09:46:19.750Z [MonitoringThread-11] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Queuing for resend 1067
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener$1.run(ApnsServerSimulator.java:162)2018-07-08T09:46:19.750Z [MonitoringThread-11] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - resending 1 notifications

2018-07-08T09:46:19.750Z [MonitoringThread-11] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Monitoring input stream closed by EOF
2018-07-08T09:46:19.750Z [MonitoringThread-11] DEBUG com.notnoop.apns.internal.Utilities - close 31e0a9f9[TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256: Socket[addr=localhost/127.0.0.1,port=57202,localport=51588]]
2018-07-08T09:46:19.750Z [MonitoringThread-11] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:19.750Z [MonitoringThread-11] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=1067; Token=2A41755ECE8726D822BF9A993DCE3E587966FB20F46D12D61FF11E383EF1B603; Payload={"aps":{}}) fromBuffer: true
2018-07-08T09:46:19.751Z [MonitoringThread-11] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Connected new socket 76f1de09[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=57202,localport=51589]]
2018-07-08T09:46:19.751Z [MonitoringThread-11] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Launching Monitoring Thread for socket 76f1de09[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=57202,localport=51589]]
2018-07-08T09:46:19.751Z [MonitoringThread-11] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Made a new connection to APNS
2018-07-08T09:46:19.752Z [Thread-371] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Running parseNotifications 5f520f69[SSL_NULL_WITH_NULL_NULL: Socket[addr=/127.0.0.1,port=51589,localport=57202]]
2018-07-08T09:46:19.753Z [MonitoringThread-12] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Started monitoring thread
2018-07-08T09:46:19.790Z [Thread-371] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:19.790Z [Thread-371] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=1067, expiry=1, deviceToken=2A41755ECE8726D822BF9A993DCE3E587966FB20F46D12D61FF11E383EF1B603, priority=10}
2018-07-08T09:46:19.791Z [Thread-371] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=1067, expiry=1, deviceToken=2A41755ECE8726D822BF9A993DCE3E587966FB20F46D12D61FF11E383EF1B603, priority=10}
2018-07-08T09:46:19.791Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=1067, expiry=1, deviceToken=2A41755ECE8726D822BF9A993DCE3E587966FB20F46D12D61FF11E383EF1B603, priority=10}
2018-07-08T09:46:19.791Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - assertNumberReceived - successfully took 2
2018-07-08T09:46:19.791Z [main] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - assertIdle
2018-07-08T09:46:20.791Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorLongRunningTest - *********** 11
2018-07-08T09:46:20.791Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=1068; Token=FFFF00085DFA94F21456845C320453EDFF9363288E4601C3A2C376C0362EC1FE; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:20.792Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:20.792Z [Thread-371] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:20.792Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=1069; Token=2A4D150715F9410E6C85F9CE47C17214A21C0CF3CC25D3F60BF2F8B92BDE5BE1; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:20.792Z [Thread-371] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=1068, expiry=1, deviceToken=FFFF00085DFA94F21456845C320453EDFF9363288E4601C3A2C376C0362EC1FE, priority=10}
2018-07-08T09:46:20.792Z [Thread-371] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=1068, expiry=1, deviceToken=FFFF00085DFA94F21456845C320453EDFF9363288E4601C3A2C376C0362EC1FE, priority=10}
2018-07-08T09:46:20.792Z [Thread-371] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - FAIL 8 1068
2018-07-08T09:46:20.792Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:20.792Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - assertNumberReceived 2
2018-07-08T09:46:20.792Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=1068, expiry=1, deviceToken=FFFF00085DFA94F21456845C320453EDFF9363288E4601C3A2C376C0362EC1FE, priority=10}
2018-07-08T09:46:20.792Z [Thread-371] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - FAIL - closed
2018-07-08T09:46:20.792Z [MonitoringThread-12] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Error-response packet 08080000042C
2018-07-08T09:46:20.792Z [Thread-371] WARN com.notnoop.apns.utils.Simulator.ApnsServerSimulator - An error occured while reading notification
2018-07-08T09:46:20.792Z [MonitoringThread-12] DEBUG com.notnoop.apns.internal.Utilities - close 76f1de09[TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256: Socket[addr=localhost/127.0.0.1,port=57202,localport=51589]]
java.net.SocketException: Socket is closed
	at sun.security.ssl.SSLSocketImpl.checkEOF(SSLSocketImpl.java:1532)
	at sun.security.ssl.AppInputStream.read(AppInputStream.java:95)
2018-07-08T09:46:20.792Z [MonitoringThread-12] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Closed connection cause=INVALID_TOKEN; id=1068
	at sun.security.ssl.AppInputStream.read(AppInputStream.java:71)
	at java.io.DataInputStream.readByte(DataInputStream.java:265)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener.parseNotifications(ApnsServerSimulator.java:176)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener.access$700(ApnsServerSimulator.java:117)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener$1.run(ApnsServerSimulator.java:162)
2018-07-08T09:46:20.792Z [MonitoringThread-12] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Candidate for removal, message id 1067
2018-07-08T09:46:20.792Z [MonitoringThread-12] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Candidate for removal, message id 1068
2018-07-08T09:46:20.792Z [MonitoringThread-12] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Bad message found 1068
2018-07-08T09:46:20.792Z [MonitoringThread-12] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - delegate.messageSendFailed, message id 1068
2018-07-08T09:46:20.792Z [MonitoringThread-12] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Queuing for resend 1069
2018-07-08T09:46:20.792Z [MonitoringThread-12] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - resending 1 notifications
2018-07-08T09:46:20.792Z [MonitoringThread-12] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Monitoring input stream closed by EOF
2018-07-08T09:46:20.792Z [MonitoringThread-12] DEBUG com.notnoop.apns.internal.Utilities - close 76f1de09[TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256: Socket[addr=localhost/127.0.0.1,port=57202,localport=51589]]
2018-07-08T09:46:20.793Z [MonitoringThread-12] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:20.793Z [MonitoringThread-12] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=1069; Token=2A4D150715F9410E6C85F9CE47C17214A21C0CF3CC25D3F60BF2F8B92BDE5BE1; Payload={"aps":{}}) fromBuffer: true
2018-07-08T09:46:20.793Z [MonitoringThread-12] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Connected new socket 584ab8e9[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=57202,localport=51590]]
2018-07-08T09:46:20.793Z [MonitoringThread-12] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Launching Monitoring Thread for socket 584ab8e9[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=57202,localport=51590]]
2018-07-08T09:46:20.793Z [MonitoringThread-12] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Made a new connection to APNS
2018-07-08T09:46:20.793Z [MonitoringThread-13] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Started monitoring thread
2018-07-08T09:46:20.793Z [Thread-372] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Running parseNotifications 10348ffa[SSL_NULL_WITH_NULL_NULL: Socket[addr=/127.0.0.1,port=51590,localport=57202]]
2018-07-08T09:46:20.834Z [Thread-372] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:20.834Z [Thread-372] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=1069, expiry=1, deviceToken=2A4D150715F9410E6C85F9CE47C17214A21C0CF3CC25D3F60BF2F8B92BDE5BE1, priority=10}
2018-07-08T09:46:20.834Z [Thread-372] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=1069, expiry=1, deviceToken=2A4D150715F9410E6C85F9CE47C17214A21C0CF3CC25D3F60BF2F8B92BDE5BE1, priority=10}
2018-07-08T09:46:20.834Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=1069, expiry=1, deviceToken=2A4D150715F9410E6C85F9CE47C17214A21C0CF3CC25D3F60BF2F8B92BDE5BE1, priority=10}
2018-07-08T09:46:20.834Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - assertNumberReceived - successfully took 2
2018-07-08T09:46:20.834Z [main] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - assertIdle
2018-07-08T09:46:21.835Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorLongRunningTest - *********** 12
2018-07-08T09:46:21.835Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=1070; Token=FFFF00085A6E43A644DB2BF591F2AE538D53512BFF26888E7D4D9F7C77754F43; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:21.835Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:21.835Z [Thread-372] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:21.835Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=1071; Token=2A7B628F8F83E8676B52FA33CB858978C029703CBE1000EC10AB2E82554F52C2; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:21.835Z [Thread-372] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=1070, expiry=1, deviceToken=FFFF00085A6E43A644DB2BF591F2AE538D53512BFF26888E7D4D9F7C77754F43, priority=10}
2018-07-08T09:46:21.835Z [Thread-372] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=1070, expiry=1, deviceToken=FFFF00085A6E43A644DB2BF591F2AE538D53512BFF26888E7D4D9F7C77754F43, priority=10}
2018-07-08T09:46:21.835Z [Thread-372] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - FAIL 8 1070
2018-07-08T09:46:21.835Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:21.835Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - assertNumberReceived 2
2018-07-08T09:46:21.835Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=1070, expiry=1, deviceToken=FFFF00085A6E43A644DB2BF591F2AE538D53512BFF26888E7D4D9F7C77754F43, priority=10}
2018-07-08T09:46:21.835Z [MonitoringThread-13] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Error-response packet 08080000042E
2018-07-08T09:46:21.835Z [Thread-372] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - FAIL - closed
2018-07-08T09:46:21.835Z [MonitoringThread-13] DEBUG com.notnoop.apns.internal.Utilities - close 584ab8e9[TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256: Socket[addr=localhost/127.0.0.1,port=57202,localport=51590]]
2018-07-08T09:46:21.835Z [Thread-372] WARN com.notnoop.apns.utils.Simulator.ApnsServerSimulator - An error occured while reading notification
java.net.SocketException: Socket is closed
	at sun.security.ssl.SSLSocketImpl.checkEOF(SSLSocketImpl.java:1532)
	at sun.security.ssl.AppInputStream.read(AppInputStream.java:95)
	at sun.security.ssl.AppInputStream.read(AppInputStream.java:71)
	at java.io.DataInputStream.readByte(DataInputStream.java:265)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener.parseNotifications(ApnsServerSimulator.java:176)2018-07-08T09:46:21.836Z [MonitoringThread-13] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Closed connection cause=INVALID_TOKEN; id=1070

	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener.access$700(ApnsServerSimulator.java:117)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener$1.run(ApnsServerSimulator.java:162)
2018-07-08T09:46:21.836Z [MonitoringThread-13] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Candidate for removal, message id 1069
2018-07-08T09:46:21.836Z [MonitoringThread-13] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Candidate for removal, message id 1070
2018-07-08T09:46:21.836Z [MonitoringThread-13] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Bad message found 1070
2018-07-08T09:46:21.836Z [MonitoringThread-13] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - delegate.messageSendFailed, message id 1070
2018-07-08T09:46:21.836Z [MonitoringThread-13] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Queuing for resend 1071
2018-07-08T09:46:21.836Z [MonitoringThread-13] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - resending 1 notifications
2018-07-08T09:46:21.836Z [MonitoringThread-13] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Monitoring input stream closed by EOF
2018-07-08T09:46:21.836Z [MonitoringThread-13] DEBUG com.notnoop.apns.internal.Utilities - close 584ab8e9[TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256: Socket[addr=localhost/127.0.0.1,port=57202,localport=51590]]
2018-07-08T09:46:21.836Z [MonitoringThread-13] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:21.836Z [MonitoringThread-13] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=1071; Token=2A7B628F8F83E8676B52FA33CB858978C029703CBE1000EC10AB2E82554F52C2; Payload={"aps":{}}) fromBuffer: true
2018-07-08T09:46:21.836Z [MonitoringThread-13] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Connected new socket 1d23f822[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=57202,localport=51591]]
2018-07-08T09:46:21.837Z [MonitoringThread-13] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Launching Monitoring Thread for socket 1d23f822[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=57202,localport=51591]]
2018-07-08T09:46:21.837Z [MonitoringThread-13] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Made a new connection to APNS
2018-07-08T09:46:21.837Z [MonitoringThread-14] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Started monitoring thread
2018-07-08T09:46:21.837Z [Thread-373] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Running parseNotifications 7e5fcde2[SSL_NULL_WITH_NULL_NULL: Socket[addr=/127.0.0.1,port=51591,localport=57202]]
2018-07-08T09:46:21.874Z [Thread-373] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:21.874Z [Thread-373] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=1071, expiry=1, deviceToken=2A7B628F8F83E8676B52FA33CB858978C029703CBE1000EC10AB2E82554F52C2, priority=10}
2018-07-08T09:46:21.874Z [Thread-373] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=1071, expiry=1, deviceToken=2A7B628F8F83E8676B52FA33CB858978C029703CBE1000EC10AB2E82554F52C2, priority=10}
2018-07-08T09:46:21.875Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=1071, expiry=1, deviceToken=2A7B628F8F83E8676B52FA33CB858978C029703CBE1000EC10AB2E82554F52C2, priority=10}
2018-07-08T09:46:21.875Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - assertNumberReceived - successfully took 2
2018-07-08T09:46:21.875Z [main] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - assertIdle
2018-07-08T09:46:22.875Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorLongRunningTest - *********** 13
2018-07-08T09:46:22.875Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=1072; Token=FFFF00089FFD989FE4B4269FD3592FA98E94446C66F9223A52EE4FD56526217D; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:22.875Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:22.875Z [Thread-373] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:22.875Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=1073; Token=2A652A5B75A993DA65CEE4F22BBFCFDB1F44FEBE95FBC9FAC3E3CFF52C1DFE0E; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:22.875Z [Thread-373] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=1072, expiry=1, deviceToken=FFFF00089FFD989FE4B4269FD3592FA98E94446C66F9223A52EE4FD56526217D, priority=10}
2018-07-08T09:46:22.875Z [Thread-373] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=1072, expiry=1, deviceToken=FFFF00089FFD989FE4B4269FD3592FA98E94446C66F9223A52EE4FD56526217D, priority=10}
2018-07-08T09:46:22.875Z [Thread-373] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - FAIL 8 1072
2018-07-08T09:46:22.875Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:22.875Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - assertNumberReceived 2
2018-07-08T09:46:22.876Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=1072, expiry=1, deviceToken=FFFF00089FFD989FE4B4269FD3592FA98E94446C66F9223A52EE4FD56526217D, priority=10}
2018-07-08T09:46:22.876Z [Thread-373] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - FAIL - closed
2018-07-08T09:46:22.876Z [MonitoringThread-14] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Error-response packet 080800000430
2018-07-08T09:46:22.876Z [Thread-373] WARN com.notnoop.apns.utils.Simulator.ApnsServerSimulator - An error occured while reading notification
2018-07-08T09:46:22.876Z [MonitoringThread-14] DEBUG com.notnoop.apns.internal.Utilities - close 1d23f822[TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256: Socket[addr=localhost/127.0.0.1,port=57202,localport=51591]]
java.net.SocketException: Socket is closed
	at sun.security.ssl.SSLSocketImpl.checkEOF(SSLSocketImpl.java:1532)
	at sun.security.ssl.AppInputStream.read(AppInputStream.java:95)
	at sun.security.ssl.AppInputStream.read(AppInputStream.java:71)
	at java.io.DataInputStream.readByte(DataInputStream.java:265)
2018-07-08T09:46:22.876Z [MonitoringThread-14] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Closed connection cause=INVALID_TOKEN; id=1072
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener.parseNotifications(ApnsServerSimulator.java:176)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener.access$700(ApnsServerSimulator.java:117)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener$1.run(ApnsServerSimulator.java:162)
2018-07-08T09:46:22.876Z [MonitoringThread-14] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Candidate for removal, message id 1071
2018-07-08T09:46:22.876Z [MonitoringThread-14] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Candidate for removal, message id 1072
2018-07-08T09:46:22.876Z [MonitoringThread-14] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Bad message found 1072
2018-07-08T09:46:22.876Z [MonitoringThread-14] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - delegate.messageSendFailed, message id 1072
2018-07-08T09:46:22.876Z [MonitoringThread-14] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Queuing for resend 1073
2018-07-08T09:46:22.876Z [MonitoringThread-14] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - resending 1 notifications
2018-07-08T09:46:22.876Z [MonitoringThread-14] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Monitoring input stream closed by EOF
2018-07-08T09:46:22.876Z [MonitoringThread-14] DEBUG com.notnoop.apns.internal.Utilities - close 1d23f822[TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256: Socket[addr=localhost/127.0.0.1,port=57202,localport=51591]]
2018-07-08T09:46:22.876Z [MonitoringThread-14] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:22.876Z [MonitoringThread-14] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=1073; Token=2A652A5B75A993DA65CEE4F22BBFCFDB1F44FEBE95FBC9FAC3E3CFF52C1DFE0E; Payload={"aps":{}}) fromBuffer: true
2018-07-08T09:46:22.877Z [MonitoringThread-14] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Connected new socket 2ce3665d[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=57202,localport=51592]]
2018-07-08T09:46:22.877Z [MonitoringThread-14] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Launching Monitoring Thread for socket 2ce3665d[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=57202,localport=51592]]
2018-07-08T09:46:22.877Z [MonitoringThread-14] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Made a new connection to APNS
2018-07-08T09:46:22.877Z [Thread-374] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Running parseNotifications 30626178[SSL_NULL_WITH_NULL_NULL: Socket[addr=/127.0.0.1,port=51592,localport=57202]]
2018-07-08T09:46:22.877Z [MonitoringThread-15] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Started monitoring thread
2018-07-08T09:46:22.914Z [Thread-374] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:22.914Z [Thread-374] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=1073, expiry=1, deviceToken=2A652A5B75A993DA65CEE4F22BBFCFDB1F44FEBE95FBC9FAC3E3CFF52C1DFE0E, priority=10}
2018-07-08T09:46:22.914Z [Thread-374] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=1073, expiry=1, deviceToken=2A652A5B75A993DA65CEE4F22BBFCFDB1F44FEBE95FBC9FAC3E3CFF52C1DFE0E, priority=10}
2018-07-08T09:46:22.914Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=1073, expiry=1, deviceToken=2A652A5B75A993DA65CEE4F22BBFCFDB1F44FEBE95FBC9FAC3E3CFF52C1DFE0E, priority=10}
2018-07-08T09:46:22.914Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - assertNumberReceived - successfully took 2
2018-07-08T09:46:22.915Z [main] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - assertIdle
2018-07-08T09:46:23.915Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorLongRunningTest - *********** 14
2018-07-08T09:46:23.915Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=1074; Token=FFFF000883D85D34D96E2D7C798833A4EFA9456FAFFA597057EB0F029156D89B; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:23.915Z [Thread-374] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:23.915Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:23.915Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=1075; Token=2A817CB13FEDF50EDF3C7F7607ABF5694D4F8BDA59774241F872F12C621E9E83; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:23.915Z [Thread-374] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=1074, expiry=1, deviceToken=FFFF000883D85D34D96E2D7C798833A4EFA9456FAFFA597057EB0F029156D89B, priority=10}
2018-07-08T09:46:23.915Z [Thread-374] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=1074, expiry=1, deviceToken=FFFF000883D85D34D96E2D7C798833A4EFA9456FAFFA597057EB0F029156D89B, priority=10}
2018-07-08T09:46:23.915Z [Thread-374] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - FAIL 8 1074
2018-07-08T09:46:23.915Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:23.915Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - assertNumberReceived 2
2018-07-08T09:46:23.916Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=1074, expiry=1, deviceToken=FFFF000883D85D34D96E2D7C798833A4EFA9456FAFFA597057EB0F029156D89B, priority=10}
2018-07-08T09:46:23.916Z [MonitoringThread-15] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Error-response packet 080800000432
2018-07-08T09:46:23.916Z [Thread-374] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - FAIL - closed
2018-07-08T09:46:23.916Z [Thread-374] WARN com.notnoop.apns.utils.Simulator.ApnsServerSimulator - An error occured while reading notification
2018-07-08T09:46:23.916Z [MonitoringThread-15] DEBUG com.notnoop.apns.internal.Utilities - close 2ce3665d[TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256: Socket[addr=localhost/127.0.0.1,port=57202,localport=51592]]
java.net.SocketException: Socket is closed
	at sun.security.ssl.SSLSocketImpl.checkEOF(SSLSocketImpl.java:1532)
2018-07-08T09:46:23.916Z [MonitoringThread-15] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Closed connection cause=INVALID_TOKEN; id=1074
	at sun.security.ssl.AppInputStream.read(AppInputStream.java:95)
	at sun.security.ssl.AppInputStream.read(AppInputStream.java:71)
	at java.io.DataInputStream.readByte(DataInputStream.java:265)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener.parseNotifications(ApnsServerSimulator.java:176)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener.access$700(ApnsServerSimulator.java:117)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener$1.run(ApnsServerSimulator.java:162)
2018-07-08T09:46:23.917Z [MonitoringThread-15] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Candidate for removal, message id 1073
2018-07-08T09:46:23.917Z [MonitoringThread-15] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Candidate for removal, message id 1074
2018-07-08T09:46:23.917Z [MonitoringThread-15] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Bad message found 1074
2018-07-08T09:46:23.917Z [MonitoringThread-15] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - delegate.messageSendFailed, message id 1074
2018-07-08T09:46:23.917Z [MonitoringThread-15] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Queuing for resend 1075
2018-07-08T09:46:23.917Z [MonitoringThread-15] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - resending 1 notifications
2018-07-08T09:46:23.917Z [MonitoringThread-15] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Monitoring input stream closed by EOF
2018-07-08T09:46:23.917Z [MonitoringThread-15] DEBUG com.notnoop.apns.internal.Utilities - close 2ce3665d[TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256: Socket[addr=localhost/127.0.0.1,port=57202,localport=51592]]
2018-07-08T09:46:23.917Z [MonitoringThread-15] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:23.917Z [MonitoringThread-15] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Id=1075; Token=2A817CB13FEDF50EDF3C7F7607ABF5694D4F8BDA59774241F872F12C621E9E83; Payload={"aps":{}}) fromBuffer: true
2018-07-08T09:46:23.917Z [MonitoringThread-15] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Connected new socket 2ea2ba41[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=57202,localport=51593]]
2018-07-08T09:46:23.917Z [MonitoringThread-15] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Launching Monitoring Thread for socket 2ea2ba41[SSL_NULL_WITH_NULL_NULL: Socket[addr=localhost/127.0.0.1,port=57202,localport=51593]]
2018-07-08T09:46:23.917Z [MonitoringThread-15] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Made a new connection to APNS
2018-07-08T09:46:23.926Z [MonitoringThread-16] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Started monitoring thread
2018-07-08T09:46:23.926Z [Thread-375] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Running parseNotifications 59697851[SSL_NULL_WITH_NULL_NULL: Socket[addr=/127.0.0.1,port=51593,localport=57202]]
2018-07-08T09:46:23.967Z [Thread-375] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Received Notification (type 1)
2018-07-08T09:46:23.967Z [Thread-375] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Read enhanced notification Notification{type=1, identifier=1075, expiry=1, deviceToken=2A817CB13FEDF50EDF3C7F7607ABF5694D4F8BDA59774241F872F12C621E9E83, priority=10}
2018-07-08T09:46:23.967Z [Thread-375] DEBUG com.notnoop.apns.utils.Simulator.FailingApnsServerSimulator - Queueing notification Notification{type=1, identifier=1075, expiry=1, deviceToken=2A817CB13FEDF50EDF3C7F7607ABF5694D4F8BDA59774241F872F12C621E9E83, priority=10}
2018-07-08T09:46:23.967Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - Polled notification Notification{type=1, identifier=1075, expiry=1, deviceToken=2A817CB13FEDF50EDF3C7F7607ABF5694D4F8BDA59774241F872F12C621E9E83, priority=10}
2018-07-08T09:46:23.967Z [main] DEBUG com.notnoop.apns.integration.ApnsSimulatorTestBase - assertNumberReceived - successfully took 2
2018-07-08T09:46:23.967Z [main] INFO com.notnoop.apns.integration.ApnsSimulatorTestBase - assertIdle
2018-07-08T09:46:24.967Z [main] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Stopping APNSServerSimulator
2018-07-08T09:46:24.967Z [main] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interrupt, closing socket
2018-07-08T09:46:24.967Z [main] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Stopped - APNSServerSimulator
2018-07-08T09:46:24.967Z [GatewayListener23] WARN com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interruption while handling gateway connection
2018-07-08T09:46:24.967Z [FeedbackRunner24] WARN com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interruption while handling feedback connection
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 15.739 sec
java.net.SocketException: Socket closedRunning com.notnoop.apns.APNSTest

	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at sun.security.ssl.SSLServerSocketImpl.accept(SSLServerSocketImpl.java:348)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$GatewayListener.run(ApnsServerSimulator.java:142)
java.net.SocketException: Socket closed2018-07-08T09:46:24.968Z [GatewayListener23] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interrupt, closing socket

2018-07-08T09:46:24.968Z [GatewayListener23] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Terminating GatewayListener23
java.lang.ThreadGroup[name=GatewayListener23,maxpri=10]
    Thread[GatewayListener23,5,GatewayListener23]
 	at java.net.PlainSocketImpl.socketAccept(Native Method) 
  	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)Thread[Thread-375,5,GatewayListener23]

	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
2018-07-08T09:46:24.968Z [GatewayListener23] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Interrupt, closing socket
	at sun.security.ssl.SSLServerSocketImpl.accept(SSLServerSocketImpl.java:348)
	at com.notnoop.apns.utils.Simulator.ApnsServerSimulator$FeedbackRunner.run(ApnsServerSimulator.java:313)
2018-07-08T09:46:24.968Z [FeedbackRunner24] DEBUG com.notnoop.apns.utils.Simulator.ApnsServerSimulator - Terminating FeedbackRunner24
java.lang.ThreadGroup[name=FeedbackRunner24,maxpri=10]
    Thread[FeedbackRunner24,5,FeedbackRunner24]
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.132 sec
Running com.notnoop.apns.PayloadBuilderTest
Tests run: 38, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.075 sec
Running com.notnoop.apns.utils.StringTruncationTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.012 sec
Running com.notnoop.apns.internal.ApnsFeedbackConnectionTest
2018-07-08T09:46:25.204Z [main] DEBUG com.notnoop.apns.internal.Utilities - close Mock for Socket, hashCode: 1706292388
2018-07-08T09:46:25.204Z [main] DEBUG com.notnoop.apns.internal.Utilities - close Optional.absent()
2018-07-08T09:46:25.205Z [main] DEBUG com.notnoop.apns.internal.Utilities - close Mock for Socket, hashCode: 409962262
2018-07-08T09:46:25.205Z [main] DEBUG com.notnoop.apns.internal.Utilities - close Optional.absent()
2018-07-08T09:46:25.207Z [main] DEBUG com.notnoop.apns.internal.Utilities - close Mock for Socket, hashCode: 1464555023
2018-07-08T09:46:25.207Z [main] DEBUG com.notnoop.apns.internal.Utilities - close Optional.absent()
2018-07-08T09:46:25.207Z [main] WARN com.notnoop.apns.internal.ApnsFeedbackConnection - Failed to retrieve invalid devices
java.lang.NullPointerException
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at com.notnoop.apns.internal.Utilities.parseFeedbackStreamRaw(Utilities.java:162)
	at com.notnoop.apns.internal.Utilities.parseFeedbackStream(Utilities.java:181)
	at com.notnoop.apns.internal.ApnsFeedbackConnection.getInactiveDevicesImpl(ApnsFeedbackConnection.java:114)
	at com.notnoop.apns.internal.ApnsFeedbackConnection.getInactiveDevices(ApnsFeedbackConnection.java:82)
	at com.notnoop.apns.internal.ApnsFeedbackConnectionTest.feedbackWithErrorTwice(ApnsFeedbackConnectionTest.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.ExpectException.evaluate(ExpectException.java:19)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.apache.maven.surefire.junit4.JUnit4TestSet.execute(JUnit4TestSet.java:53)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:123)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:104)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:164)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:110)
	at org.apache.maven.surefire.booter.SurefireStarter.invokeProvider(SurefireStarter.java:175)
	at org.apache.maven.surefire.booter.SurefireStarter.runSuitesInProcessWhenForked(SurefireStarter.java:107)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:68)
2018-07-08T09:46:25.208Z [main] DEBUG com.notnoop.apns.internal.Utilities - close Mock for Socket, hashCode: 681008168
2018-07-08T09:46:25.208Z [main] DEBUG com.notnoop.apns.internal.Utilities - close Optional.absent()
2018-07-08T09:46:25.208Z [main] WARN com.notnoop.apns.internal.ApnsFeedbackConnection - Failed to retrieve invalid devices
java.lang.NullPointerException
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at com.notnoop.apns.internal.Utilities.parseFeedbackStreamRaw(Utilities.java:162)
	at com.notnoop.apns.internal.Utilities.parseFeedbackStream(Utilities.java:181)
	at com.notnoop.apns.internal.ApnsFeedbackConnection.getInactiveDevicesImpl(ApnsFeedbackConnection.java:114)
	at com.notnoop.apns.internal.ApnsFeedbackConnection.getInactiveDevices(ApnsFeedbackConnection.java:82)
	at com.notnoop.apns.internal.ApnsFeedbackConnectionTest.feedbackWithErrorTwice(ApnsFeedbackConnectionTest.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.ExpectException.evaluate(ExpectException.java:19)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.apache.maven.surefire.junit4.JUnit4TestSet.execute(JUnit4TestSet.java:53)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:123)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:104)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:164)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:110)
	at org.apache.maven.surefire.booter.SurefireStarter.invokeProvider(SurefireStarter.java:175)
	at org.apache.maven.surefire.booter.SurefireStarter.runSuitesInProcessWhenForked(SurefireStarter.java:107)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:68)
2018-07-08T09:46:25.208Z [main] DEBUG com.notnoop.apns.internal.Utilities - close Mock for Socket, hashCode: 875917495
2018-07-08T09:46:25.208Z [main] DEBUG com.notnoop.apns.internal.Utilities - close Optional.absent()
2018-07-08T09:46:25.209Z [main] WARN com.notnoop.apns.internal.ApnsFeedbackConnection - Failed to retrieve invalid devices
java.lang.NullPointerException
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at com.notnoop.apns.internal.Utilities.parseFeedbackStreamRaw(Utilities.java:162)
	at com.notnoop.apns.internal.Utilities.parseFeedbackStream(Utilities.java:181)
	at com.notnoop.apns.internal.ApnsFeedbackConnection.getInactiveDevicesImpl(ApnsFeedbackConnection.java:114)
	at com.notnoop.apns.internal.ApnsFeedbackConnection.getInactiveDevices(ApnsFeedbackConnection.java:82)
	at com.notnoop.apns.internal.ApnsFeedbackConnectionTest.feedbackWithErrorTwice(ApnsFeedbackConnectionTest.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.ExpectException.evaluate(ExpectException.java:19)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.apache.maven.surefire.junit4.JUnit4TestSet.execute(JUnit4TestSet.java:53)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:123)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:104)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:164)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:110)
	at org.apache.maven.surefire.booter.SurefireStarter.invokeProvider(SurefireStarter.java:175)
	at org.apache.maven.surefire.booter.SurefireStarter.runSuitesInProcessWhenForked(SurefireStarter.java:107)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:68)
2018-07-08T09:46:25.209Z [main] ERROR com.notnoop.apns.internal.ApnsFeedbackConnection - Couldn't get feedback connection
java.lang.NullPointerException
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at com.notnoop.apns.internal.Utilities.parseFeedbackStreamRaw(Utilities.java:162)
	at com.notnoop.apns.internal.Utilities.parseFeedbackStream(Utilities.java:181)
	at com.notnoop.apns.internal.ApnsFeedbackConnection.getInactiveDevicesImpl(ApnsFeedbackConnection.java:114)
	at com.notnoop.apns.internal.ApnsFeedbackConnection.getInactiveDevices(ApnsFeedbackConnection.java:82)
	at com.notnoop.apns.internal.ApnsFeedbackConnectionTest.feedbackWithErrorTwice(ApnsFeedbackConnectionTest.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.ExpectException.evaluate(ExpectException.java:19)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.apache.maven.surefire.junit4.JUnit4TestSet.execute(JUnit4TestSet.java:53)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:123)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:104)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:164)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:110)
	at org.apache.maven.surefire.booter.SurefireStarter.invokeProvider(SurefireStarter.java:175)
	at org.apache.maven.surefire.booter.SurefireStarter.runSuitesInProcessWhenForked(SurefireStarter.java:107)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:68)
2018-07-08T09:46:25.211Z [main] DEBUG com.notnoop.apns.internal.Utilities - close Mock for Socket, hashCode: 119290689
2018-07-08T09:46:25.211Z [main] DEBUG com.notnoop.apns.internal.Utilities - close Optional.absent()
2018-07-08T09:46:25.211Z [main] WARN com.notnoop.apns.internal.ApnsFeedbackConnection - Failed to retrieve invalid devices
java.lang.NullPointerException
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at com.notnoop.apns.internal.Utilities.parseFeedbackStreamRaw(Utilities.java:162)
	at com.notnoop.apns.internal.Utilities.parseFeedbackStream(Utilities.java:181)
	at com.notnoop.apns.internal.ApnsFeedbackConnection.getInactiveDevicesImpl(ApnsFeedbackConnection.java:114)
	at com.notnoop.apns.internal.ApnsFeedbackConnection.getInactiveDevices(ApnsFeedbackConnection.java:82)
	at com.notnoop.apns.internal.ApnsFeedbackConnectionTest.feedbackWithErrorOnce(ApnsFeedbackConnectionTest.java:98)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.apache.maven.surefire.junit4.JUnit4TestSet.execute(JUnit4TestSet.java:53)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:123)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:104)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:164)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:110)
	at org.apache.maven.surefire.booter.SurefireStarter.invokeProvider(SurefireStarter.java:175)
	at org.apache.maven.surefire.booter.SurefireStarter.runSuitesInProcessWhenForked(SurefireStarter.java:107)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:68)
2018-07-08T09:46:25.211Z [main] DEBUG com.notnoop.apns.internal.Utilities - close Mock for Socket, hashCode: 1019298652
2018-07-08T09:46:25.211Z [main] DEBUG com.notnoop.apns.internal.Utilities - close Optional.absent()
2018-07-08T09:46:25.211Z [main] WARN com.notnoop.apns.internal.ApnsFeedbackConnection - Failed to retrieve invalid devices
java.lang.NullPointerException
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at com.notnoop.apns.internal.Utilities.parseFeedbackStreamRaw(Utilities.java:162)
	at com.notnoop.apns.internal.Utilities.parseFeedbackStream(Utilities.java:181)
	at com.notnoop.apns.internal.ApnsFeedbackConnection.getInactiveDevicesImpl(ApnsFeedbackConnection.java:114)
	at com.notnoop.apns.internal.ApnsFeedbackConnection.getInactiveDevices(ApnsFeedbackConnection.java:82)
	at com.notnoop.apns.internal.ApnsFeedbackConnectionTest.feedbackWithErrorOnce(ApnsFeedbackConnectionTest.java:98)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.apache.maven.surefire.junit4.JUnit4TestSet.execute(JUnit4TestSet.java:53)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:123)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:104)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:164)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:110)
	at org.apache.maven.surefire.booter.SurefireStarter.invokeProvider(SurefireStarter.java:175)
	at org.apache.maven.surefire.booter.SurefireStarter.runSuitesInProcessWhenForked(SurefireStarter.java:107)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:68)
2018-07-08T09:46:25.212Z [main] DEBUG com.notnoop.apns.internal.Utilities - close Mock for Socket, hashCode: 1595282218
2018-07-08T09:46:25.212Z [main] DEBUG com.notnoop.apns.internal.Utilities - close Optional.absent()
2018-07-08T09:46:25.213Z [main] DEBUG com.notnoop.apns.internal.Utilities - close Mock for Socket, hashCode: 1778081847
2018-07-08T09:46:25.213Z [main] DEBUG com.notnoop.apns.internal.Utilities - close Optional.absent()
2018-07-08T09:46:25.213Z [main] WARN com.notnoop.apns.internal.ApnsFeedbackConnection - Failed to retrieve invalid devices
java.lang.NullPointerException
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at com.notnoop.apns.internal.Utilities.parseFeedbackStreamRaw(Utilities.java:162)
	at com.notnoop.apns.internal.Utilities.parseFeedbackStream(Utilities.java:181)
	at com.notnoop.apns.internal.ApnsFeedbackConnection.getInactiveDevicesImpl(ApnsFeedbackConnection.java:114)
	at com.notnoop.apns.internal.ApnsFeedbackConnection.getInactiveDevices(ApnsFeedbackConnection.java:82)
	at com.notnoop.apns.internal.ApnsFeedbackConnectionTest.feedbackWithClosedSocket(ApnsFeedbackConnectionTest.java:90)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.apache.maven.surefire.junit4.JUnit4TestSet.execute(JUnit4TestSet.java:53)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:123)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:104)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:164)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:110)
	at org.apache.maven.surefire.booter.SurefireStarter.invokeProvider(SurefireStarter.java:175)
	at org.apache.maven.surefire.booter.SurefireStarter.runSuitesInProcessWhenForked(SurefireStarter.java:107)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:68)
2018-07-08T09:46:25.214Z [main] DEBUG com.notnoop.apns.internal.Utilities - close Mock for Socket, hashCode: 1729779847
2018-07-08T09:46:25.214Z [main] DEBUG com.notnoop.apns.internal.Utilities - close Optional.absent()
Tests run: 9, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.026 sec
Running com.notnoop.apns.internal.SimpleApnsNotificationTest
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.006 sec
Running com.notnoop.apns.internal.ApnsPooledConnectionTest
2018-07-08T09:46:25.234Z [main] DEBUG com.notnoop.apns.internal.Utilities - close Mock for ApnsConnection, hashCode: 1600667055
2018-07-08T09:46:25.234Z [main] DEBUG com.notnoop.apns.internal.Utilities - close Mock for ApnsConnection, hashCode: 1600667055
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.013 sec
Running com.notnoop.apns.internal.ApnsConnectionTest
2018-07-08T09:46:25.236Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Token=A87D8878D878A7; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:25.236Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Connected new socket Mock for Socket, hashCode: 2030036700
2018-07-08T09:46:25.236Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Made a new connection to APNS
2018-07-08T09:46:25.236Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:25.236Z [main] DEBUG com.notnoop.apns.internal.Utilities - close Mock for Socket, hashCode: 2030036700
2018-07-08T09:46:25.237Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Token=A87D8878D878A7; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:25.237Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Connected new socket Mock for Socket, hashCode: 137460818
2018-07-08T09:46:25.237Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Made a new connection to APNS
2018-07-08T09:46:25.237Z [main] DEBUG com.notnoop.apns.internal.Utilities - close Mock for Socket, hashCode: 137460818
2018-07-08T09:46:25.238Z [main] DEBUG com.notnoop.apns.internal.Utilities - error while closing socket
java.io.IOException: simulated IOException
	at com.notnoop.apns.internal.Utilities.close(Utilities.java:211)
	at com.notnoop.apns.internal.ApnsConnectionImpl.sendMessage(ApnsConnectionImpl.java:343)
	at com.notnoop.apns.internal.ApnsConnectionImpl.sendMessage(ApnsConnectionImpl.java:314)
	at com.notnoop.apns.internal.ApnsConnectionTest.packetSentRegardless(ApnsConnectionTest.java:88)
	at com.notnoop.apns.internal.ApnsConnectionTest.errorThrice(ApnsConnectionTest.java:82)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.ExpectException.evaluate(ExpectException.java:19)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.apache.maven.surefire.junit4.JUnit4TestSet.execute(JUnit4TestSet.java:53)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:123)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:104)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:164)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:110)
	at org.apache.maven.surefire.booter.SurefireStarter.invokeProvider(SurefireStarter.java:175)
	at org.apache.maven.surefire.booter.SurefireStarter.runSuitesInProcessWhenForked(SurefireStarter.java:107)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:68)
2018-07-08T09:46:25.239Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Connected new socket Mock for Socket, hashCode: 1760126453
2018-07-08T09:46:25.239Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Made a new connection to APNS
2018-07-08T09:46:25.239Z [main] DEBUG com.notnoop.apns.internal.Utilities - close Mock for Socket, hashCode: 1760126453
2018-07-08T09:46:25.239Z [main] DEBUG com.notnoop.apns.internal.Utilities - error while closing socket
java.io.IOException: simulated IOException
	at com.notnoop.apns.internal.Utilities.close(Utilities.java:211)
	at com.notnoop.apns.internal.ApnsConnectionImpl.sendMessage(ApnsConnectionImpl.java:343)
	at com.notnoop.apns.internal.ApnsConnectionImpl.sendMessage(ApnsConnectionImpl.java:314)
	at com.notnoop.apns.internal.ApnsConnectionTest.packetSentRegardless(ApnsConnectionTest.java:88)
	at com.notnoop.apns.internal.ApnsConnectionTest.errorThrice(ApnsConnectionTest.java:82)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.ExpectException.evaluate(ExpectException.java:19)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.apache.maven.surefire.junit4.JUnit4TestSet.execute(JUnit4TestSet.java:53)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:123)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:104)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:164)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:110)
	at org.apache.maven.surefire.booter.SurefireStarter.invokeProvider(SurefireStarter.java:175)
	at org.apache.maven.surefire.booter.SurefireStarter.runSuitesInProcessWhenForked(SurefireStarter.java:107)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:68)
2018-07-08T09:46:25.240Z [main] INFO com.notnoop.apns.internal.ApnsConnectionImpl - Failed to send message Message(Token=A87D8878D878A7; Payload={"aps":{}})... trying again after delay
java.io.IOException: simulated IOException
	at com.notnoop.apns.internal.Utilities.close(Utilities.java:211)
	at com.notnoop.apns.internal.ApnsConnectionImpl.sendMessage(ApnsConnectionImpl.java:343)
	at com.notnoop.apns.internal.ApnsConnectionImpl.sendMessage(ApnsConnectionImpl.java:314)
	at com.notnoop.apns.internal.ApnsConnectionTest.packetSentRegardless(ApnsConnectionTest.java:88)
	at com.notnoop.apns.internal.ApnsConnectionTest.errorThrice(ApnsConnectionTest.java:82)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.ExpectException.evaluate(ExpectException.java:19)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.apache.maven.surefire.junit4.JUnit4TestSet.execute(JUnit4TestSet.java:53)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:123)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:104)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:164)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:110)
	at org.apache.maven.surefire.booter.SurefireStarter.invokeProvider(SurefireStarter.java:175)
	at org.apache.maven.surefire.booter.SurefireStarter.runSuitesInProcessWhenForked(SurefireStarter.java:107)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:68)
2018-07-08T09:46:25.241Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Connected new socket Mock for Socket, hashCode: 1819776360
2018-07-08T09:46:25.241Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Made a new connection to APNS
2018-07-08T09:46:25.241Z [main] DEBUG com.notnoop.apns.internal.Utilities - close Mock for Socket, hashCode: 1819776360
2018-07-08T09:46:25.241Z [main] DEBUG com.notnoop.apns.internal.Utilities - error while closing socket
java.io.IOException: simulated IOException
	at com.notnoop.apns.internal.Utilities.close(Utilities.java:211)
	at com.notnoop.apns.internal.ApnsConnectionImpl.sendMessage(ApnsConnectionImpl.java:343)
	at com.notnoop.apns.internal.ApnsConnectionImpl.sendMessage(ApnsConnectionImpl.java:314)
	at com.notnoop.apns.internal.ApnsConnectionTest.packetSentRegardless(ApnsConnectionTest.java:88)
	at com.notnoop.apns.internal.ApnsConnectionTest.errorThrice(ApnsConnectionTest.java:82)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.ExpectException.evaluate(ExpectException.java:19)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.apache.maven.surefire.junit4.JUnit4TestSet.execute(JUnit4TestSet.java:53)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:123)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:104)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:164)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:110)
	at org.apache.maven.surefire.booter.SurefireStarter.invokeProvider(SurefireStarter.java:175)
	at org.apache.maven.surefire.booter.SurefireStarter.runSuitesInProcessWhenForked(SurefireStarter.java:107)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:68)
2018-07-08T09:46:25.242Z [main] ERROR com.notnoop.apns.internal.ApnsConnectionImpl - Couldn't send message after 3 retries.Message(Token=A87D8878D878A7; Payload={"aps":{}})
java.io.IOException: simulated IOException
	at com.notnoop.apns.internal.Utilities.close(Utilities.java:211)
	at com.notnoop.apns.internal.ApnsConnectionImpl.sendMessage(ApnsConnectionImpl.java:343)
	at com.notnoop.apns.internal.ApnsConnectionImpl.sendMessage(ApnsConnectionImpl.java:314)
	at com.notnoop.apns.internal.ApnsConnectionTest.packetSentRegardless(ApnsConnectionTest.java:88)
	at com.notnoop.apns.internal.ApnsConnectionTest.errorThrice(ApnsConnectionTest.java:82)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.ExpectException.evaluate(ExpectException.java:19)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.apache.maven.surefire.junit4.JUnit4TestSet.execute(JUnit4TestSet.java:53)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:123)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:104)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:164)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:110)
	at org.apache.maven.surefire.booter.SurefireStarter.invokeProvider(SurefireStarter.java:175)
	at org.apache.maven.surefire.booter.SurefireStarter.runSuitesInProcessWhenForked(SurefireStarter.java:107)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:68)
2018-07-08T09:46:25.243Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Token=A87D8878D878A7; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:25.244Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Connected new socket Mock for Socket, hashCode: 752684363
2018-07-08T09:46:25.244Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Made a new connection to APNS
2018-07-08T09:46:25.244Z [main] DEBUG com.notnoop.apns.internal.Utilities - close Mock for Socket, hashCode: 752684363
2018-07-08T09:46:25.244Z [main] DEBUG com.notnoop.apns.internal.Utilities - error while closing socket
java.io.IOException: simulated IOException
	at com.notnoop.apns.internal.Utilities.close(Utilities.java:211)
	at com.notnoop.apns.internal.ApnsConnectionImpl.sendMessage(ApnsConnectionImpl.java:343)
	at com.notnoop.apns.internal.ApnsConnectionImpl.sendMessage(ApnsConnectionImpl.java:314)
	at com.notnoop.apns.internal.ApnsConnectionTest.packetSentRegardless(ApnsConnectionTest.java:88)
	at com.notnoop.apns.internal.ApnsConnectionTest.errorOnce(ApnsConnectionTest.java:65)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.apache.maven.surefire.junit4.JUnit4TestSet.execute(JUnit4TestSet.java:53)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:123)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:104)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:164)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:110)
	at org.apache.maven.surefire.booter.SurefireStarter.invokeProvider(SurefireStarter.java:175)
	at org.apache.maven.surefire.booter.SurefireStarter.runSuitesInProcessWhenForked(SurefireStarter.java:107)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:68)
2018-07-08T09:46:25.245Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Connected new socket Mock for Socket, hashCode: 773662650
2018-07-08T09:46:25.245Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Made a new connection to APNS
2018-07-08T09:46:25.245Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:25.245Z [main] DEBUG com.notnoop.apns.internal.Utilities - close Mock for Socket, hashCode: 773662650
2018-07-08T09:46:25.245Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - sendMessage Message(Token=A87D8878D878A7; Payload={"aps":{}}) fromBuffer: false
2018-07-08T09:46:25.245Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Connected new socket Mock for Socket, hashCode: 1641415002
2018-07-08T09:46:25.246Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Made a new connection to APNS
2018-07-08T09:46:25.246Z [main] DEBUG com.notnoop.apns.internal.Utilities - close Mock for Socket, hashCode: 1641415002
2018-07-08T09:46:25.246Z [main] DEBUG com.notnoop.apns.internal.Utilities - error while closing socket
java.io.IOException: simulated IOException
	at com.notnoop.apns.internal.Utilities.close(Utilities.java:211)
	at com.notnoop.apns.internal.ApnsConnectionImpl.sendMessage(ApnsConnectionImpl.java:343)
	at com.notnoop.apns.internal.ApnsConnectionImpl.sendMessage(ApnsConnectionImpl.java:314)
	at com.notnoop.apns.internal.ApnsConnectionTest.packetSentRegardless(ApnsConnectionTest.java:88)
	at com.notnoop.apns.internal.ApnsConnectionTest.errorTwice(ApnsConnectionTest.java:72)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.apache.maven.surefire.junit4.JUnit4TestSet.execute(JUnit4TestSet.java:53)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:123)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:104)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:164)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:110)
	at org.apache.maven.surefire.booter.SurefireStarter.invokeProvider(SurefireStarter.java:175)
	at org.apache.maven.surefire.booter.SurefireStarter.runSuitesInProcessWhenForked(SurefireStarter.java:107)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:68)
2018-07-08T09:46:25.247Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Connected new socket Mock for Socket, hashCode: 1380806038
2018-07-08T09:46:25.247Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Made a new connection to APNS
2018-07-08T09:46:25.247Z [main] DEBUG com.notnoop.apns.internal.Utilities - close Mock for Socket, hashCode: 1380806038
2018-07-08T09:46:25.247Z [main] DEBUG com.notnoop.apns.internal.Utilities - error while closing socket
java.io.IOException: simulated IOException
	at com.notnoop.apns.internal.Utilities.close(Utilities.java:211)
	at com.notnoop.apns.internal.ApnsConnectionImpl.sendMessage(ApnsConnectionImpl.java:343)
	at com.notnoop.apns.internal.ApnsConnectionImpl.sendMessage(ApnsConnectionImpl.java:314)
	at com.notnoop.apns.internal.ApnsConnectionTest.packetSentRegardless(ApnsConnectionTest.java:88)
	at com.notnoop.apns.internal.ApnsConnectionTest.errorTwice(ApnsConnectionTest.java:72)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.apache.maven.surefire.junit4.JUnit4TestSet.execute(JUnit4TestSet.java:53)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:123)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:104)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:164)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:110)
	at org.apache.maven.surefire.booter.SurefireStarter.invokeProvider(SurefireStarter.java:175)
	at org.apache.maven.surefire.booter.SurefireStarter.runSuitesInProcessWhenForked(SurefireStarter.java:107)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:68)
2018-07-08T09:46:25.248Z [main] INFO com.notnoop.apns.internal.ApnsConnectionImpl - Failed to send message Message(Token=A87D8878D878A7; Payload={"aps":{}})... trying again after delay
java.io.IOException: simulated IOException
	at com.notnoop.apns.internal.Utilities.close(Utilities.java:211)
	at com.notnoop.apns.internal.ApnsConnectionImpl.sendMessage(ApnsConnectionImpl.java:343)
	at com.notnoop.apns.internal.ApnsConnectionImpl.sendMessage(ApnsConnectionImpl.java:314)
	at com.notnoop.apns.internal.ApnsConnectionTest.packetSentRegardless(ApnsConnectionTest.java:88)
	at com.notnoop.apns.internal.ApnsConnectionTest.errorTwice(ApnsConnectionTest.java:72)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.apache.maven.surefire.junit4.JUnit4TestSet.execute(JUnit4TestSet.java:53)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:123)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:104)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:164)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:110)
	at org.apache.maven.surefire.booter.SurefireStarter.invokeProvider(SurefireStarter.java:175)
	at org.apache.maven.surefire.booter.SurefireStarter.runSuitesInProcessWhenForked(SurefireStarter.java:107)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:68)
2018-07-08T09:46:25.249Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Connected new socket Mock for Socket, hashCode: 1151844284
2018-07-08T09:46:25.249Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - Made a new connection to APNS
2018-07-08T09:46:25.249Z [main] DEBUG com.notnoop.apns.internal.ApnsConnectionImpl - draining buffer
2018-07-08T09:46:25.249Z [main] DEBUG com.notnoop.apns.internal.Utilities - close Mock for Socket, hashCode: 1151844284
Tests run: 5, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0.014 sec
Running com.notnoop.apns.internal.ApnsServiceImplTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec
Running com.notnoop.apns.internal.TlsTunnelBuilderTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec
Running com.notnoop.apns.internal.QueuedApnsServiceTCTest
2018-07-08T09:46:25.263Z [main] DEBUG com.notnoop.apns.internal.Utilities - close com.notnoop.apns.internal.QueuedApnsServiceTest$ConnectionStub$$EnhancerByMockitoWithCGLIB$$15115b13@2e222612
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.013 sec
Running com.notnoop.apns.internal.QueuedApnsServiceTest
2018-07-08T09:46:25.266Z [main] DEBUG com.notnoop.apns.internal.Utilities - close com.notnoop.apns.internal.QueuedApnsServiceTest$ConnectionStub$$EnhancerByMockitoWithCGLIB$$15115b13@61386958
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.003 sec
Running com.notnoop.apns.internal.BatchApnsServiceTest
2018-07-08T09:46:27.271Z [pool-193-thread-1] DEBUG com.notnoop.apns.internal.Utilities - close Mock for ApnsConnection, hashCode: 465637271
2018-07-08T09:46:32.522Z [pool-194-thread-1] DEBUG com.notnoop.apns.internal.Utilities - close Mock for ApnsConnection, hashCode: 1462621679
2018-07-08T09:46:35.775Z [pool-195-thread-1] DEBUG com.notnoop.apns.internal.Utilities - close Mock for ApnsConnection, hashCode: 1463234574
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 10.758 sec
Running com.notnoop.apns.internal.UtilitiesTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec

Results :

Tests run: 111, Failures: 0, Errors: 0, Skipped: 3

[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 1:13.490s
[INFO] Finished at: Sun Jul 08 02:46:36 PDT 2018
[INFO] Final Memory: 24M/352M
[INFO] ------------------------------------------------------------------------
